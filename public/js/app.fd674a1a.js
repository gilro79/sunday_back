(function(t){function e(e){for(var n,o,a=e[0],u=e[1],l=e[2],d=0,p=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var u=r[a];0!==s[u]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var c=u;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"08a8":function(t,e,r){"use strict";r("2476")},"0fad":function(t,e,r){"use strict";r("98e5")},"23dd":function(t,e,r){t.exports=r.p+"img/msg-icon-blue.1bbe6e25.svg"},2476:function(t,e,r){},"2e9f":function(t,e,r){},"300a":function(t,e,r){t.exports=r.p+"img/drag_icon.31cc3155.svg"},"3c61":function(t,e,r){},"426a":function(t,e,r){t.exports=r.p+"img/task.000e64ef.jpg"},"540b":function(t,e,r){"use strict";r("2e9f")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],o={},a=o,u=r("2877"),l=Object(u["a"])(a,s,i,!1,null,null,null),c=l.exports,d=r("9483");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var p=r("8c4f"),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"app-home"},[r("section",{staticClass:"nav-bar flex"},[r("router-link",{staticClass:"clean-list route-btn",attrs:{to:"/board/61b18a0d26c7f33ac41d0b16"}},[r("div",[t._v("get Start")])]),r("router-link",{staticClass:"clean-list route-btn",attrs:{to:"/login"}},[r("div",[t._v("Login \\ Signup")])])],1),t._m(0)])},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"img-slogan flex space-between align-center"},[n("div",[n("img",{attrs:{src:r("426a")}})]),n("div",{staticClass:" flex direction-column align-center"},[n("h2",{staticClass:"logo"},[n("span",[t._v("S")]),t._v("unday")]),n("h2",[t._v("All the tasks in one place")]),n("p",[t._v("Get your team aligned with everyday's tasks")]),n("p",[t._v("super customisable and can be used for every use case")])])])}],f={name:"home",components:{}},h=f,v=Object(u["a"])(h,m,g,!1,null,null,null),b=v.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-app"},[r("side-bar"),r("router-view")],1)},y=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"side-bar"},[r("main-menu"),r("boards-nav-bar")],1)},C=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"main-menu"},[n("div",{staticClass:"top-menu"},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"logo-img",attrs:{src:r("d4c0"),alt:""}})]),n("i",{staticClass:"el-icon-menu main-menu-item active"}),n("i",{staticClass:"el-icon-bell main-menu-item"}),n("i",{staticClass:"el-icon-receiving main-menu-item"}),n("i",{staticClass:"el-icon-goods main-menu-item"})],1),t._m(0),n("div",[n("i",{staticClass:"el-icon-suitcase main-menu-item"}),n("i",{staticClass:"el-icon-user main-menu-item"}),n("i",{staticClass:"el-icon-search main-menu-item"}),n("i",{staticClass:"el-icon-setting main-menu-item"}),n("router-link",{attrs:{to:"/login"}},[n("el-avatar",{attrs:{size:"medium",src:t.circleUrl}})],1)],1)])},k=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"plans"},[r("div",{staticClass:"txt"},[r("p",[t._v("See plans")])])])}],I={data:function(){return{circleUrl:this.userImg()}},created:function(){this.$store.dispatch({type:"loadUser"})},methods:{userImg:function(){return this.$store.getters.loggedinUser.imgUrl}},computed:{}},O=I,S=Object(u["a"])(O,x,k,!1,null,null,null),A=S.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"boards-nav-bar",class:t.forToggle},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.isOpen?"close":"open",placement:"right-start"}},[r("div",{staticClass:"toggle-board-nav-bar"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.isOpen,expression:"isOpen"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isOpen)?t._i(t.isOpen,null)>-1:t.isOpen},on:{change:function(e){var r=t.isOpen,n=e.target,s=!!n.checked;if(Array.isArray(r)){var i=null,o=t._i(r,i);n.checked?o<0&&(t.isOpen=r.concat([i])):o>-1&&(t.isOpen=r.slice(0,o).concat(r.slice(o+1)))}else t.isOpen=s}}}),r("i",{class:t.toggleStyle})])]),t.isOpen?r("div",[r("h3",[t._v("Workspace")]),r("div",{staticClass:"workspace-header"},[r("div",{staticClass:"flex txt"},[r("el-avatar",{attrs:{shape:"square",size:"small",src:t.squareUrl}}),r("h4",[t._v("Main Workspace")])],1),r("i",{staticClass:"el-icon-arrow-down"})]),r("ul",{staticClass:"board-list"},[r("li",{staticClass:"board-nav-item",on:{click:t.open}},[t._m(0)]),t._m(1),t._m(2),r("el-divider"),t._l(t.boardsList,(function(t){return r("li",{key:t._id},[r("board-nav-item",{attrs:{navItem:t}})],1)}))],2)]):t._e()],1)},B=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h4",[r("i",{staticClass:"el-icon-plus"}),t._v(" New Board")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"board-nav-item"},[r("h4",[r("i",{staticClass:"el-icon-star-off"}),t._v(" Starred")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"board-nav-item"},[r("h4",[r("i",{staticClass:"el-icon-search"}),t._v(" Search")])])}],D=r("1da1"),T=(r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.currBoardId?r("router-link",{attrs:{to:"/board/"+t.navItem.boardId}},[r("section",{staticClass:"board-nav-item",class:t.btnStyle},[r("div",{staticClass:"flex board-nav-item-title"},[r("i",{staticClass:"el-icon-s-fold"}),r("h4",{},[t._v(t._s(t.navItem.boardTitle))])]),r("el-dropdown",[r("span",{staticClass:"el-dropdown-link"},[r("i",{staticClass:"el-icon-more more"})]),r("el-dropdown-menu",{staticClass:"board-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[t._v("Action 1")]),r("el-dropdown-item",[t._v("Action 2")]),r("el-dropdown-item",[t._v("Action 3")]),r("el-dropdown-item",{attrs:{disabled:""}},[t._v("Action 4")]),r("el-dropdown-item",{attrs:{divided:"",command:{removeBoard:t.removeBoard}}},[r("button",{staticClass:"drop-down-btn",on:{click:t.removeBoard}},[r("i",{staticClass:"el-icon-delete"}),t._v(" Delete ")])])],1)],1)],1)]):t._e()}),N=[],E={props:{navItem:Object,isCurr:String},data:function(){return{currBoardId:this.$route.params.boardId}},methods:{removeBoard:function(){this.$store.dispatch({type:"removeBoard",boardId:this.navItem.boardId})}},computed:{btnStyle:function(){return{"curr-btn":this.currBoardId===this.navItem.boardId}}},watch:{$route:function(t,e){this.currBoardId=this.$route.params.boardId}}},P=E,R=Object(u["a"])(P,T,N,!1,null,null,null),J=R.exports,L={data:function(){return{currBoardId:this.$route.params.boardId,newBoardNmae:"",isOpen:!0,squareUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAA8FBMVEXMzP/bqJclGxv////Pz/8tHBzhrZt8X1YZERPLzv8SAAANAACzst7P0P/fsqOgmrsAAADcppJgSUPTu9E8LSrOyPbFl4jYsLAFAAcNCAywh3ncpY2qgnXbp5MgFxjbqZnWtLszJiQmFRYgFRKencPSv9sVAAnPxev37OlybogcDwaXc2jUucuMa2HRoJC5joAgBgbZrKTx3tjAv+9fWm81LjQqICKKiKhjX3SAfpxsaIBTT19CPEdINjJiS0Soh4S9mZiAW1A7IBuonp3Y2dpdVFTHyMpmRz+5uryLhYVQNS+Efn7kv7P05eDr0cjnyL3kT6S4AAAGq0lEQVR4nO3d/1/aOBgH8BZKoK24FAXBQlE8UUFwyvQ2N7kv7na33eb+///mkvJdE76YJ7bxns9rP+TFapc3KU+btEzLeuVxku6A9qDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KDQ/KBw3d0Ui+zPqGHFDXfSsDZsDJzFV5S7BrETqzh459PrN6xTg4+U3vxaHL2SmTY+FC1n8N6nR7xhjRqOY916tHPmsMaZR70zi7/iU/89azgfOtS/hegeiNDZ8juZzBG9LY4a/rvilscamVnjY3HQ4Q3vozM4ihufrMHNpHHt8cb1YHDNX+ncDAafvLgB0TmAfVjF66MMT8f3M5LGkahxtKrRuVU/UCGEzhbNaAoF6J36LiznF0+X0N9S7iAKUfj/EBZfv/ANClGIQhSiEIUoROGrEkYFkESpFRZKeZDcRSkVRncEKKkVDokNErIbpVRYQiEKUYhCFKIQhShEIQpRiEIUohCFKEQhClGYLuFhSoW0CyXMV1MpBAPOiOkSAgKnxFQJQYETYjqEbiwswAI5scCFyg+YKgvd8s7eb34mU63AAm2yX2PC3w+O3WSF7k4YkHpNl7BaaQTNEyWjotA9D1lfdApZKzxJUHgS2vqFdlNlENWE7kHjJYTBcXLChi0UkmfW1fmfmxM2DhQGUfEoDYVCcpPvb44k5KKUn/3UnNDeS5uwQgu0tL+Zkdjdw2rhxgwh6bFzdVTN9PrrGgmp5Ks1Np+gc3tJs3A0u4sKdHixzkASUr+jhfhKu9abbp9moT08pLX4uaYC3e3aK4yk34v48LF3pErvDBES0t/v3VWrjBnVCsuqDq8ubPiiQo1Gw+7FfDFNtTDuOvtsdePBrEmrDq8ubAM2dPk6exsWt0mXsBpFVHDGJ/FglmqURr0nByuvLpTSzGjonr4DZH+216SFdj1zeBhJrmnGg5mhpYWqQ+z6rnDoZtmf7TVxYcyQ9HM6mPX8sNufvFDpDXvioXv05tgpEa4T3t2LMbFSWYF7FDOEKkFhgkL2+assP+WzDVZfpadX2Pjjrdf2hvLrU1L/02/7u/UVxPQK7z//1crlWm3Z7Jh0v3xhG+T8/HJicsLRDFgW8nc2+9nL8Ui22P8nm71/y4lLRzHBGbC7t4zYp1+yX3n/c23xYir5dp8db7G7TJjgKsZoJUoSUm97Xtz9XEv8iDvxva//jgbZ74s2GCfBlajRaqJM2Gvlxml9Ewr7Xu7t6C3IST+qdsKriZwYyIT1wlQoGUNvsoF8DBuBneiKMF/VP9+7FHeu70/63xYXElKajHLrTvI5vDxQ+QyCCJnRPRYPI8m3x/0/lPS/QsdCeiHeICwr3rWAubvm7kgOVFKKia2c7BAkdcpHsSW9MxeWlXunVcjO6Lu+38pL/pZvUBm2PZ9NHSV/n3ohX3dZcdXJrlyXbJB+oWpQiEIUohCFKEQhClGIQhSiEIUoROELCi3JWpttb2+QVAtPJMLt7AYR7iNQXkwE+t+uJUv7wQbAU6FQ5bbaOCDC0YO0AuHp+sIrkTBUXfC2oMawLB7E4GF9ofBzeKk+hEBC91hynKodpA31OgP2/+q75+JCsfYgioZQ7a7aJEBC2d3gdT+Jok9huANwjEL+9oem8DBtPvsYDVRu3s8FTlgWnxTXIYqADYgqwwMndGX39FceqMIThQ3VLzihrNqsLDffhWdCkCrDAyiUPnsSNH/IfQ/CtyVU/cbaLJBCy5Xc0LeD7SuJzxafZYCqDA+o0CpLHyAKgu+PkacP24F4e7AqwwMrlFabEdL+/vPh6gfL1cPP7SCQziqbkH2CFfIvXMqJfHSCcZZtBDApnAuwkE0zlOf7gFWGB1rIqs3S5xVXJzgHBer4nV1qwAbApHchGoTLqs3qgFYZHg1C6WRxnQSgVYZHg1Cl2oRqzyGKokP4/GoTAlcZHi1C2WRxVcCrDI8moWRpakUgL9am0SR8VrUBWXh6Ek1C6WRxSeCmhAvRJVzxRQUREGbh6Um0CTetNpBTwoVoFEqWpsQBnRIuRKNw6WTxccAv1qbRKNygoDaaWspoHJ1CNorNtY7UcE9jJ7QKWeRfqZkmaMJOeR9Ft9C1zi/DYEnCPa0+/UL+lZryyfGOJMcnll7fSwjjuJK8wD/9QsIEg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lzg0Lz41jOK0/xP4g72/OzgnPEAAAAAElFTkSuQmCC"}},methods:{newBoard:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"newBoard",boardName:t.newBoardNmae});case 2:r=e.sent,t.$router.push("/board/"+r._id);case 4:case"end":return e.stop()}}),e)})))()},open:function(){var t=this;this.$prompt("Please input name","Add new board",{confirmButtonText:"ADD",cancelButtonText:"Cancel"}).then((function(e){var r=e.value;t.newBoardNmae=r,t.newBoard(),t.$message({type:"success",message:'The "'.concat(r,'" board was successfully added')})})).catch((function(){t.$message({type:"info",message:"Input canceled"})}))}},computed:{toggleStyle:function(){return{"el-icon-arrow-left":this.isOpen,"el-icon-arrow-right":!this.isOpen}},forToggle:function(){return{close:!this.isOpen,"":this.isOpen}},btnTxt:function(){return{open:!this.isOpen,colse:this.isOpen}},boardsList:function(){return this.$store.getters.boardsList}},components:{boardNavItem:J}},j=L,M=Object(u["a"])(j,U,B,!1,null,null,null),$=M.exports,F={components:{mainMenu:A,boardsNavBar:$}},G=F,z=Object(u["a"])(G,w,C,!1,null,null,null),Y=z.exports,K={created:function(){this.$store.dispatch({type:"getBoardsList"})},components:{sideBar:Y}},V=K,Q=Object(u["a"])(V,_,y,!1,null,null,null),W=Q.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currBoard?n("section",{staticClass:"board-details"},[n("router-view"),n("board-details-header",{on:{changeMode:t.changeMode}}),n("transition",{attrs:{name:"fade"}},[t.tableMode?n("group-list",{attrs:{groups:t.currBoard.groups,cmpsOrder:t.cmpsOrder},on:{click:function(e){t.drawer=!0}}}):t._e()],1),n("transition",{attrs:{name:"fade"}},[t.tableMode?t._e():n("div",[n("trello-list",{staticClass:"trello-list",attrs:{byStatus:t.byStatus,groups:t.currBoard.groups}})],1)])],1):n("div",{staticClass:"loader-img"},[n("img",{attrs:{src:r("c4e2"),alt:""}})])},H=[],Z=(r("e9c4"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-filter"},[r("div",{staticClass:"search-btn"},[t._m(0),r("el-input",{attrs:{placeholder:"Search"},on:{input:function(e){return t.filter()}},model:{value:t.currFilterBy.txt,callback:function(e){t.$set(t.currFilterBy,"txt",e)},expression:"currFilterBy.txt"}})],1),r("div",{staticClass:"person-filter-btn"},[r("el-popover",{staticClass:"person-picker-popover",attrs:{placement:"bottom",width:"432"},model:{value:t.isPersonModalVisible,callback:function(e){t.isPersonModalVisible=e},expression:"isPersonModalVisible"}},[r("div",{staticClass:"titles"},[r("div",{staticClass:"title1"},[t._v("Quick person filter")]),r("div",{staticClass:"title2"},[t._v("Filter items by person")])]),r("div",{staticClass:"persons"},t._l(t.board.members,(function(e,n){return r("div",{key:n,staticClass:"person",on:{click:function(r){return t.changePersonFilter(e._id)}}},[r("div",{staticClass:"person-img"},[r("img",{attrs:{src:e.imgUrl}})])])})),0),r("el-button",{staticClass:"popover-btn",attrs:{slot:"reference"},slot:"reference"},[r("div",{staticClass:"btn-wrapper"},[t.filterBy.personId?r("div",{staticClass:"user-img"},[r("img",{attrs:{src:t.currPersonImgUrl}})]):r("i",{staticClass:"el-icon-user"}),r("span",[t._v("Person")]),t.filterBy.personId?r("i",{staticClass:"el-icon-close",on:{click:function(e){return t.changePersonFilter("")}}}):t._e()])])],1)],1),r("div",{staticClass:"status-filter-btn"},[r("el-popover",{staticClass:"status-picker-popover",attrs:{placement:"bottom",width:"250"},model:{value:t.isStatusModalVisible,callback:function(e){t.isStatusModalVisible=e},expression:"isStatusModalVisible"}},[r("div",{staticClass:"titles"},[r("div",{staticClass:"title1"},[t._v("Quick status filter")]),r("div",{staticClass:"title2"},[t._v("Filter items by status")])]),r("div",{staticClass:"statuses"},t._l(t.statuses,(function(e,n){return r("div",{key:n,staticClass:"status",style:{"background-color":e.bgColor},on:{click:function(r){return t.changeStatusFilter(e.txt)}}},[r("span",{staticClass:"status-name"},[t._v(t._s(e.txt))])])})),0),r("el-button",{staticClass:"popover-btn",style:t.statusBtnStyle,attrs:{slot:"reference"},slot:"reference"},[r("i",{staticClass:"el-icon-s-order"}),t._v(" Status "),t.filterBy.statusTxt?r("i",{staticClass:"el-icon-close",on:{click:function(e){return t.changeStatusFilter("")}}}):t._e()])],1)],1),r("div",{staticClass:"priority-filter-btn"},[r("el-popover",{staticClass:"priority-picker-popover",attrs:{placement:"bottom",width:"250"},model:{value:t.isPriorityModalVisible,callback:function(e){t.isPriorityModalVisible=e},expression:"isPriorityModalVisible"}},[r("div",{staticClass:"titles"},[r("div",{staticClass:"title1"},[t._v("Quick priority filter")]),r("div",{staticClass:"title2"},[t._v("Filter items by priority")])]),r("div",{staticClass:"priorities"},t._l(t.priorities,(function(e,n){return r("div",{key:n,staticClass:"priority",style:{"background-color":e.bgColor},on:{click:function(r){return t.changePriorityFilter(e.txt)}}},[r("span",{staticClass:"priority-name"},[t._v(t._s(e.txt))])])})),0),r("el-button",{staticClass:"popover-btn",style:t.priorityBtnStyle,attrs:{slot:"reference"},slot:"reference"},[r("i",{staticClass:"el-icon-s-order"}),t._v(" Priority "),t.filterBy.priorityTxt?r("i",{staticClass:"el-icon-close",on:{click:function(e){return t.changePriorityFilter("")}}}):t._e()])],1)],1)])}),X=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-icon"},[r("i",{staticClass:"el-icon-search"})])}],tt=(r("4de4"),r("d3b7"),r("7db0"),{name:"boardFilter",props:["filterBy","board"],data:function(){return{currFilterBy:{txt:"",personId:"",statusTxt:"",priorityTxt:""},isPersonModalVisible:!1,isStatusModalVisible:!1,isPriorityModalVisible:!1,statuses:[{txt:"Done",bgColor:"#00C785"},{txt:"Working on it",bgColor:"#FDAB3D"},{txt:"Stuck",bgColor:"#E2445C"},{txt:"-",bgColor:"#c8c8c8"}],priorities:[{txt:"High",bgColor:"#8a079a",importance:3},{txt:"Medium",bgColor:"#bec01e",importance:2},{txt:"Low",bgColor:"#3670e4",importance:1},{txt:"-",bgColor:"#c8c8c8",importance:0}]}},methods:{filter:function(){this.$emit("filter",this.currFilterBy)},changePersonFilter:function(t){this.currFilterBy.personId=t,this.filter(),this.isPersonModalVisible=!1},changeStatusFilter:function(t){this.currFilterBy.statusTxt=t,this.filter(),this.isStatusModalVisible=!1},changePriorityFilter:function(t){this.currFilterBy.priorityTxt=t,this.filter(),this.isPriorityModalVisible=!1}},computed:{currPersonImgUrl:function(){var t=this;return this.currFilterBy.personId?this.board.members.find((function(e){return e._id===t.filterBy.personId})).imgUrl:""},statusBtnStyle:function(){var t=this;if(!this.currFilterBy.statusTxt)return"";var e=this.statuses.find((function(e){return e.txt===t.currFilterBy.statusTxt})).bgColor;return{backgroundColor:e,color:"#fff",opacity:.5}},priorityBtnStyle:function(){var t=this;if(!this.currFilterBy.priorityTxt)return"";var e=this.priorities.find((function(e){return e.txt===t.currFilterBy.priorityTxt})).bgColor;return{backgroundColor:e,color:"#fff",opacity:.5}}}}),et=tt,rt=Object(u["a"])(et,Z,X,!1,null,null,null),nt=rt.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Container",{staticClass:"flex",attrs:{"drop-placeholder":{className:"ooo",showOnTop:!1},"drag-class":"group-is-in-drag",orientation:"horizontal","drag-handle-selector":".group-handle"},on:{drop:t.onDrop}},t._l(t.groups,(function(e){return n("Draggable",{key:e.id},[n("section",{staticClass:"trello-group"},[n("div",{staticClass:"trello-group-top"},[n("div",{staticClass:"group-handle"},[n("img",{attrs:{draggable:"false",src:r("300a"),alt:""}})]),n("div",{staticClass:"trello-title-group"},[t._v(t._s(e.title))])]),n("trello-group",{attrs:{byStatus:t.byStatus,group:e,items:e.items}})],1)])})),1)},it=[],ot=(r("a434"),r("3f7d")),at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Container",{staticClass:"trello-group",attrs:{orientation:"vertical","drop-placeholder":{className:"ooo",showOnTop:!1},"drag-class":"isInDrag","get-child-payload":t.getItemPayload(t.group),"group-name":"items"},on:{drop:function(e){return t.onDrop(e)}}},t._l(t.items,(function(e){return r("Draggable",{key:e.id},[r("div",{staticClass:"trello-item"},[r("div",{staticClass:"trello-item-top"},[r("div",{staticClass:"trello-status",style:{backgroundColor:e.status.bgColor}}),r("div",{staticClass:"trello-priority",style:{backgroundColor:e.priority.bgColor}})]),r("div",{staticClass:"trello-item-title"},[t._v(" "+t._s(e.title)+" ")]),r("div",{staticClass:"trello-item-buttom"},[r("div",{staticClass:"date"},[t._v(t._s(t.dateToShow(e.date)))]),r("div",{staticClass:"person"},t._l(e.person,(function(t){return r("img",{key:t.id,attrs:{src:t.imgUrl,alt:""}})})),0)])])])})),1)},ut=[],lt={props:["group","items","byStatus"],data:function(){return{}},methods:{dateToShow:function(t){return new Date(t).toLocaleDateString()},applyDrag:function(t,e){var r=e.removedIndex,n=e.addedIndex,s=e.payload;if(null===r&&null===n)return t;var i=s;return null!==r&&(i=t.splice(r,1)[0]),null!==n&&t.splice(n,0,i),t},onDrop:function(t){this.items=this.applyDrag(this.items,t),this.$store.dispatch({type:"justUpdateBoard"})},getItemPayload:function(t){return function(e){return t.items[e]}}},computed:{},components:{Container:ot["Container"],Draggable:ot["Draggable"]}},ct=lt,dt=(r("540b"),Object(u["a"])(ct,at,ut,!1,null,"431bce7a",null)),pt=dt.exports,mt={props:["groups","byStatus"],methods:{applyDrag:function(t,e){var r=e.removedIndex,n=e.addedIndex,s=e.payload;if(null===r&&null===n)return t;var i=s;return null!==r&&(i=t.splice(r,1)[0]),null!==n&&t.splice(n,0,i),t},onDrop:function(t){this.groups=this.applyDrag(this.groups,t),this.$store.dispatch({type:"justUpdateBoard"})}},components:{trelloGroup:pt,Container:ot["Container"],Draggable:ot["Draggable"]}},gt=mt,ft=(r("08a8"),Object(u["a"])(gt,st,it,!1,null,"42e28db9",null)),ht=ft.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Container",{staticClass:"group-list",attrs:{"drop-placeholder":{className:"ooo",showOnTop:!1},"drag-class":"group-is-in-drag",orientation:"vertical","drag-handle-selector":".group-handle"},on:{drop:t.onDrop}},t._l(t.groups,(function(e){return n("Draggable",{key:e.id},[n("div",{staticClass:"group draggable-item"},[n("ul",{staticClass:"group"},[n("li",{staticClass:"group-titles"},[n("div",{staticClass:"flex title",class:t.classObject,style:{color:e.color},on:{click:function(e){return t.sort("title")}}},[n("group-dropdown",{attrs:{group:e},on:{removeGroup:t.removeGroup,changeGroupColor:t.openColorModal}}),n("div",{staticClass:"group-handle"},[n("img",{attrs:{draggable:"false",src:r("300a"),alt:""}})]),n("form",{staticClass:"group-title-form"},[n("input",{staticClass:"group-title",style:{color:e.color,"border-color":e.color},attrs:{type:"text"},domProps:{value:e.title},on:{blur:function(r){return r.preventDefault(),t.changeGroupTitle(r.target.value,e)}}}),n("group-color-palette",{attrs:{group:e,groupModal:t.groupModal},on:{setColor:t.setColor}})],1)],1),n("column-titles",{attrs:{cmpsOrder:t.cmpsOrder,sortBy:t.sortBy},on:{sort:t.sort}})],1),n("item-list",{attrs:{board:t.$store.getters.currBoard,group:t.groupToShow(e),groups:t.groups,items:e.items}}),n("add-item",{attrs:{group:e},on:{addItem:t.addItem}}),n("li",{staticClass:"sum flex"},[n("div",{staticClass:"empty-div-start"}),t._l(t.cmpsOrder,(function(t){return n("item-sum",{key:t,attrs:{group:e,cmp:t}})}))],2)],1)])])})),1)},bt=[],_t=(r("159b"),r("c740"),r("99af"),r("bc3a")),yt=r.n(_t),wt="/api/",Ct=yt.a.create({withCredentials:!0}),xt={get:function(t,e){return kt(t,"GET",e)},post:function(t,e){return kt(t,"POST",e)},put:function(t,e){return kt(t,"PUT",e)},delete:function(t,e){return kt(t,"DELETE",e)}};function kt(t){return It.apply(this,arguments)}function It(){return It=Object(D["a"])(regeneratorRuntime.mark((function t(e){var r,n,s,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,t.prev=2,t.next=5,Ct({url:"".concat(wt).concat(e),method:r,data:n,params:"GET"===r?n:null});case 5:return s=t.sent,t.abrupt("return",s.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(r,"ing to the backend, endpoint: ").concat(e,", with data:"),n),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&(void 0).push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),It.apply(this,arguments)}var Ot=r("2909"),St=r("5530"),At=(r("d81d"),{query:Ut,get:Bt,post:Dt,put:Tt,remove:Nt});function Ut(t){var e=JSON.parse(localStorage.getItem(t))||[];return Promise.resolve(e)}function Bt(t,e){return Ut(t).then((function(t){return t.find((function(t){return t._id===e}))}))}function Dt(t,e){return e._id=Rt(),Ut(t).then((function(r){return r.push(e),Et(t,r),e}))}function Tt(t,e){return Ut(t).then((function(r){var n=r.findIndex((function(t){return t._id===e._id}));return r.splice(n,1,e),Et(t,r),e}))}function Nt(t,e){return Ut(t).then((function(r){var n=r.findIndex((function(t){return t._id===e}));r.splice(n,1),Et(t,r)}))}function Et(t,e){localStorage.setItem(t,JSON.stringify(e))}function Pt(){Et("board",[{_id:"b101",title:"Final Sprint",createdAt:1589983468418,createdBy:{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#00ecd1","#1e90ff","#c71585","#c7f5a5","#c7158577"],members:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"},{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],cmpsOrder:["status-picker","person-picker","date-picker","timeline-picker","stopwatch-picker"],groups:[{id:"DLFre",title:"General",color:"#784bd1",items:[{id:"poi09",title:"fix timeline invalid bug",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Done",bgColor:"#00C785"},timeline:{startDate:"",endDate:""},activityLog:[{id:"aHtm5",time:1638802218150,action:"Status changed",byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}},{id:"adpm3",time:1638802008150,action:"Created",byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}}],updates:[]},{id:"asd23",title:"fix draggable",date:1638095856535,person:[{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],status:{txt:"Stuck",bgColor:"#E2445C"},timeline:{startDate:1638095856535,endDate:1638095856535},activityLog:[{id:"a101",time:1589983468418,action:"",byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://www.google.com"}}],updates:[{id:"u101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",replies:[{id:"r101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",time:1589983468418,likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}],likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}]},{id:"QWE2D",title:"fix item delete button",date:1638700590311,person:[{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"}],status:{txt:"Done",bgColor:"#00C785"},timeline:{startDate:1638095856535,endDate:1638700590311},activityLog:[{id:"a101",time:1638700590311,action:"",byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://www.google.com"}}],updates:[{id:"u101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",replies:[{id:"r101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",time:1589983468418,likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}],likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}]},{id:"r24te",title:"fix group color change",date:"",person:[{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"},{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"2RzXy",title:"shrink the edit button",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"BVn0t",title:"fix edit hovers",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"BSm0t",title:"insert demo data",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],status:{txt:"Done",bgColor:"#00C785"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]}]},{id:"flG4t",title:"Small design fixes",color:"#1677ee",items:[{id:"FDp03",title:"push up the person modal",date:1589983468418,person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:1589983468418,endDate:1589983468418},activityLog:[{id:"a101",time:1589983468418,action:"",byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://www.google.com"}}],updates:[{id:"u101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",replies:[{id:"r101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",time:1589983468418,likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}],likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}]},{id:"i103",title:"Replace logo",date:1589983468418,person:[{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:1589983468418,endDate:1589983468418},activityLog:[{id:"a101",time:1589983468418,action:"",byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://www.google.com"}}],updates:[{id:"u101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",replies:[{id:"r101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",time:1589983468418,likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}],likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}]},{id:"i102",title:"push up the person modal",date:1589983468418,person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:1589983468418,endDate:1589983468418},activityLog:[{id:"a101",time:1589983468418,action:"",byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://www.google.com"}}],updates:[{id:"u101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",replies:[{id:"r101",byUser:{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"},txt:"hi",time:1589983468418,likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}],likes:[{_id:"u101",fullname:"Yaakob J",imgUrl:"https://www.google.com"}]}]},{id:"lAxIy",title:"shrink edit button",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"iKYpe",title:"fix edit hovers",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"K3Zhd",title:"fix add item line",date:"",person:[{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],status:{txt:"Done",bgColor:"#00C785"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]}]}]},{_id:"b102",title:"Planning the Trip",createdAt:1589983468418,createdBy:{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#00ecd1","#1e90ff","#c71585","#c7f5a5","#c7158577"],members:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"},{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],cmpsOrder:["status-picker","person-picker","date-picker","timeline-picker"],groups:[{id:"ML66y",title:"Before Flight Tasks",color:"#ff642e",items:[{id:"Lfs34",title:"buy tickets",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"SIP3k",title:"book a place at air bnb",date:"",person:[{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"}],status:{txt:"Done",bgColor:"#00C785"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"RTko9",title:"plan the hiking day",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],status:{txt:"Done",bgColor:"#00C785"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"dOp90",title:"search for restaurants",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"},{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]}]},{id:"V2Mp4",title:"To Package",color:"#9cd326",items:[{id:"lskDB",title:"bread",date:"",person:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]},{id:"kls77",title:"Tahini",date:"",person:[{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"}],status:{txt:"Working on it",bgColor:"#FDAB3D"},timeline:{startDate:"",endDate:""},activityLog:[],updates:[]}]}]}])}function Rt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}localStorage.board||Pt();var Jt={delay:Lt,getRandomInt:jt,makeId:Mt,getRandomPredefinedColor:$t,timePassed:Ft};function Lt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(e){setTimeout(e,t)}))}function jt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function Mt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}function $t(){var t=["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#00ecd1","#1e90ff","#c71585","#c7f5a5","#c7158577"],e=jt(0,t.length);return t[e]}function Ft(t){var e=Date.now()-t;return e<6e4?"now":e<36e5?Math.floor(e/6e4)+"m":e<864e5?Math.floor(e/36e5)+"h":e<2592e6?Math.floor(e/864e5)+"d":Math.floor(e/2592e6)+"months"}var Gt=r("daa8"),zt="",Yt=Kt();function Kt(){var t=null,e={setup:function(){return Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(Gt["a"])(zt);case 1:case"end":return e.stop()}}),e)})))()},on:function(e,r){t.on(e,r)},off:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(r?t.off(e,r):t.removeAllListeners(e))},emit:function(e,r){t.emit(e,r)},terminate:function(){t=null}};return e}Yt.setup();var Vt={add:re,query:Qt,getById:qt,remove:te,update:se,getEmptyBoard:ve,getBoardsList:Zt,getEmptyGroup:he,getGroupById:ae,updateGroupInBoard:ce,addGrouptoBoard:ue,removeGroup:pe,getNewId:oe,getEmptyItem:fe,setActivity:ge};function Qt(){return Wt.apply(this,arguments)}function Wt(){return Wt=Object(D["a"])(regeneratorRuntime.mark((function t(){var e=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:{},t.next=3,xt.get("board");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),Wt.apply(this,arguments)}function qt(t){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(D["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt.get("board/".concat(e));case 2:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),Ht.apply(this,arguments)}function Zt(){return Xt.apply(this,arguments)}function Xt(){return Xt=Object(D["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt.get("board");case 2:return e=t.sent,e.forEach((function(t,r){e[r]={boardId:t._id,boardTitle:t.title}})),t.abrupt("return",JSON.parse(JSON.stringify(e)));case 5:case"end":return t.stop()}}),t)}))),Xt.apply(this,arguments)}function te(t){return ee.apply(this,arguments)}function ee(){return ee=Object(D["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt.delete("board/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),ee.apply(this,arguments)}function re(t){return ne.apply(this,arguments)}function ne(){return ne=Object(D["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt.post("board",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),ne.apply(this,arguments)}function se(t){return ie.apply(this,arguments)}function ie(){return ie=Object(D["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt.put("board",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),ie.apply(this,arguments)}function oe(){Jt.makeId()}function ae(t,e){return t.groups.find((function(t){return t.id===e}))}function ue(t,e){return le.apply(this,arguments)}function le(){return le=Object(D["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.groups.unshift(r),t.next=3,xt.put("board",e);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),le.apply(this,arguments)}function ce(t,e){return de.apply(this,arguments)}function de(){return de=Object(D["a"])(regeneratorRuntime.mark((function t(e,r){var n,s,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(JSON.stringify(e)),s=r.id,i=n.groups.findIndex((function(t){return t.id===s})),n.groups.splice(i,1,r),t.next=6,xt.put("board",e);case 6:return o=t.sent,t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)}))),de.apply(this,arguments)}function pe(t,e){return me.apply(this,arguments)}function me(){return me=Object(D["a"])(regeneratorRuntime.mark((function t(e,r){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.groups.findIndex((function(t){return t.id===r})),e.groups.splice(n,1),t.next=4,xt.put("board",e);case 4:return s=t.sent,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)}))),me.apply(this,arguments)}function ge(){}function fe(t){var e={id:"i_"+Jt.makeId(),title:t,date:"",person:[],status:{bgColor:"#c8c8c8",txt:"-"},timeline:{startDate:"",endDate:""},priority:{bgColor:"#c6c6c6",txt:"-",importance:0},stopwatch:{secondsCount:0},activityLog:[{id:"a_"+Jt.makeId(),time:Date.now(),action:"Created",byUser:{}}],updates:[]};return e}function he(){return{id:"g_"+Jt.makeId(),title:"New Group",color:Jt.getRandomPredefinedColor(),items:[fe("New Item")]}}function ve(t){var e={title:"",createdAt:1589983468418,createdBy:{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},members:[{_id:"u101",fullname:"Tal Bahat",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"},{_id:"u102",fullname:"Roy Gil",imgUrl:"https://files.monday.com/use1/photos/26261151/thumb_small/26261151-user_photo_2021_11_30_09_34_45.png?1638264885"},{_id:"u103",fullname:"Yaakov Margalit",imgUrl:"https://files.monday.com/use1/photos/26261141/thumb_small/26261141-user_photo_2021_11_30_11_21_10.png?1638271270"}],cmpsOrder:["status-picker","person-picker","date-picker","timeline-picker","priority-picker","stopwatch-picker"],groups:[he()]};return e.title=t,e}var be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"add-item flex",class:t.classFocus},[r("div",{staticClass:"group-color",style:{"background-color":t.group.color}}),r("form",{on:{submit:function(e){return e.preventDefault(),t.addItem.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.newItemTitle,expression:"newItemTitle",modifiers:{lazy:!0}}],attrs:{type:"text",placeholder:"+ Add item"},domProps:{value:t.newItemTitle},on:{focus:t.focIn,focusout:t.focOut,change:function(e){t.newItemTitle=e.target.value}}}),t.isShowAdd?r("button",{staticClass:"add-item-btn"},[t._v("Add")]):t._e()])])},_e=[],ye={name:"columnList",props:["group"],data:function(){return{isShowAdd:!1,newItemTitle:"",currGroup:JSON.parse(JSON.stringify(this.group))}},methods:{addItem:function(){if(this.isShowAdd=!1,this.newItemTitle){var t=this.group.id,e=this.newItemTitle;this.newItemTitle="",this.$emit("addItem",{newItemTitle:e,groupId:t})}},focIn:function(){this.isShowAdd=!0},focOut:function(){this.isShowAdd=!1,this.addItem()}},computed:{classFocus:function(){return{"add-item-focus":this.isShowAdd}}}},we=ye,Ce=Object(u["a"])(we,be,_e,!1,null,null,null),xe=Ce.exports,ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Container",{staticClass:"group-items-container",attrs:{orientation:"vertical","drop-placeholder":{className:"ooo"},"drag-class":"isInDrag","get-child-payload":t.getItemPayload(t.group),"group-name":"items","non-drag-area-selector":".none-drag-input"},on:{drop:function(e){return t.onDrop(e)}}},t._l(t.itemsToShow,(function(e){return r("Draggable",{key:e.id,staticClass:"item-container"},[r("item-preview",{attrs:{item:e,"group-id":t.group.id,groupColor:t.group.color}})],1)})),1)},Ie=[],Oe=(r("4e82"),r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("00b4"),r("caad"),r("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"item-preview"},[t.isOpenBottomModal?n("div",{staticClass:"item-modal"}):t._e(),n("section",{staticClass:"item-title-container"},[n("div",{staticClass:"item-menu"},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-caret-bottom item-menu-btn"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"duplicate",icon:"el-icon-document-copy"}},[t._v("Duplicate")]),n("el-dropdown-item",{attrs:{command:"delete"}},[n("div",{staticClass:"delete-btn"},[[n("el-popconfirm",{attrs:{"confirm-button-text":"OK","cancel-button-text":"No, Thanks",icon:"el-icon-info","icon-color":"red",title:"Are you sure to delete this?"},on:{confirm:t.removeItem}},[n("span",{attrs:{slot:"reference"},slot:"reference"},[n("i",{staticClass:"el-icon-delete"}),t._v(" Delete")])])]],2)])],1)],1)],1),n("router-link",{staticClass:"item-title flex space-between align-center",style:{color:t.groupColor},attrs:{to:t.$store.getters.currBoard._id+"/item/"+t.item.id},nativeOn:{click:function(e){t.newMsgCount=0,t.hasNewUpdate=!1}}},[n("div",{staticClass:"color-and-title flex space-between align-center"},[n("div",{staticClass:"group-color",class:t.groupColorStyle,style:{"background-color":t.groupColor}},[n("el-checkbox",{staticClass:"input",model:{value:t.isOpenBottomModal,callback:function(e){t.isOpenBottomModal=e},expression:"isOpenBottomModal"}})],1),n("div",{staticClass:"title-and-btns flex align-center"},[t.isEditTitle?n("form",{on:{submit:function(e){return e.preventDefault(),t.saveTitle.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTitle,expression:"newTitle"}],ref:"changeTitle",staticClass:"none-drag-input",attrs:{type:"text"},domProps:{value:t.newTitle},on:{focusout:t.focusOut,input:function(e){e.target.composing||(t.newTitle=e.target.value)}}})]):[n("div",[t._v(t._s(t.item.title))]),n("div",{staticClass:"edit-btn",on:{click:function(e){return e.preventDefault(),t.editTitle.apply(null,arguments)}}},[t._v("Edit")])]],2)]),n("div",{staticClass:"details-btn flex align-center"},[t.hasNewUpdate?n("div",{staticClass:"new-msg-icon"},[n("img",{attrs:{src:r("23dd"),alt:""}}),n("span",{staticClass:"new-msg-count"},[t._v(t._s(t.newMsgCount))])]):n("img",{attrs:{src:r("dd28"),alt:""}})])])],1),t._l(t.cmpsOrder,(function(e){return n("section",{key:e},[n(e,{tag:"component",attrs:{item:t.item,"group-id":t.groupId,"group-color":t.groupColor,members:t.members,stopwatch:t.item.stopwatch},on:{changeStatus:t.changeStatus,changePriority:t.changePriority,changeDate:t.changeDate,changeTimeline:t.changeTimeline,removeAssignedMember:t.removeAssignedMember,addAssignedMember:t.addAssignedMember,updateStopwatch:t.updateStopwatch}})],1)})),n("div",{staticClass:"item-final-block"})],2)}),Se=[],Ae=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ue=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"column-list"},[r("div",[t._v(" column list ")])])}],Be={name:"columnList",props:["item","groupId"],data:function(){return{}}},De=Be,Te=Object(u["a"])(De,Ae,Ue,!1,null,null,null),Ne=Te.exports,Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status-picker",style:{backgroundColor:t.item.status.bgColor}},[n("el-dropdown",{staticClass:"status",attrs:{trigger:"click",placement:"bottom"}},[n("span",{staticClass:"el-dropdown-link"},[n("div",{staticClass:"status",style:{backgroundColor:t.item.status.bgColor,borderColor:"blue"}},[t.isDone&&t.isPlay?n("div",{ref:"doneImg",staticClass:"done-gif"},[n("img",{attrs:{src:r("cd87"),alt:""}})]):t._e(),n("p",[t._v(t._s(t.item.status.txt))])])]),n("el-dropdown-menu",{staticClass:"status-drop-down",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("div",{staticClass:"status-item stuck",on:{click:function(e){return t.changeStatus({txt:"Stuck",bgColor:"#E2445C"})}}},[t._v(" Stuck ")])]),n("el-dropdown-item",[n("div",{staticClass:"status-item working",on:{click:function(e){return t.changeStatus({txt:"Working on it",bgColor:"#FDAB3D"})}}},[t._v(" Working on it ")])]),n("el-dropdown-item",[n("div",{staticClass:"status-item done",on:{click:function(e){return t.changeStatus({txt:"Done",bgColor:"#00C785"})}}},[t._v(" Done ")])]),n("el-dropdown-item",[n("div",{staticClass:"status-item draft",on:{click:function(e){return t.changeStatus({txt:"-",bgColor:"#c8c8c8"})}}},[t._v(" - ")])])],1)],1)],1)},Pe=[],Re={name:"statusPicker",props:["item","groupId"],data:function(){return{isPlay:!1}},methods:{changeStatus:function(t){var e=this;console.log(this.$refs),this.isPlay=!0,setTimeout((function(){e.isPlay=!1}),2500),this.$emit("changeStatus",{groupId:this.groupId,itemId:this.item.id,status:t})}},computed:{isDone:function(){return"Done"===this.item.status.txt},doneClass:function(){return{play:this.isPlay}}}},Je=Re,Le=Object(u["a"])(Je,Ee,Pe,!1,null,null,null),je=Le.exports,Me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"priority-picker",style:{"background-color":t.item.priority.bgColor}},[r("el-dropdown",{staticClass:"priority",attrs:{trigger:"click",placement:"bottom"}},[r("span",{staticClass:"el-dropdown-link"},[r("div",{staticClass:"priority",style:{backgroundColor:t.item.priority.bgColor}},[r("p",[t._v(t._s(t.item.priority.txt))])])]),r("el-dropdown-menu",{staticClass:"priority-drop-down",attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[r("div",{staticClass:"priority-item high",on:{click:function(e){return t.changePriority({txt:"High",bgColor:"#8a079a",importance:3})}}},[t._v(" High ")])]),r("el-dropdown-item",[r("div",{staticClass:"priority-item medium",on:{click:function(e){return t.changePriority({txt:"Medium",bgColor:"#bec01e",importance:2})}}},[t._v(" Medium ")])]),r("el-dropdown-item",[r("div",{staticClass:"priority-item low",on:{click:function(e){return t.changePriority({txt:"Low",bgColor:"#3670e4",importance:1})}}},[t._v(" Low ")])]),r("el-dropdown-item",[r("div",{staticClass:"priority-item draft",on:{click:function(e){return t.changePriority({txt:"-",bgColor:"#c8c8c8",importance:0})}}},[t._v(" - ")])])],1)],1)],1)},$e=[],Fe={name:"priorityPicker",props:["item","groupId"],data:function(){return{}},methods:{changePriority:function(t){this.$emit("changePriority",{groupId:this.groupId,itemId:this.item.id,priority:t})}},computed:{}},Ge=Fe,ze=Object(u["a"])(Ge,Me,$e,!1,null,null,null),Ye=ze.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"person-picker"},[n("div",{staticClass:"plus-btn"},[t._v("+")]),t.item.person.length?n("div",{staticClass:"avatars"},t._l(t.item.person,(function(t,e){return n("div",{key:e,staticClass:"avatar"},[n("img",{attrs:{src:t.imgUrl}})])})),0):n("img",{staticClass:"empty-person",attrs:{src:r("fee2"),alt:""}}),n("el-popover",{staticClass:"person-picker-popover",attrs:{placement:"bottom-start",width:"250"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.assignedMembers.length?n("div",{staticClass:"assigned-persons"},t._l(t.assignedMembers,(function(e,r){return n("div",{key:r,staticClass:"assigned-person"},[n("div",{staticClass:"person-img"},[n("img",{attrs:{src:e.imgUrl}})]),n("div",{staticClass:"person-name"},[t._v(t._s(e.fullname))]),n("div",{staticClass:"remove-person-btn",on:{click:function(r){return t.removePerson(e)}}},[n("i",{staticClass:"el-icon-close"})])])})),0):t._e(),n("div",{staticClass:"title"},[n("span",{staticClass:"title-txt"},[t._v("People")])]),t.notAssignedMembers.length?n("div",{staticClass:"persons-to-pick"},t._l(t.notAssignedMembers,(function(e,r){return n("div",{key:r,staticClass:"person-to-pick",on:{click:function(r){return t.addPerson(e)}}},[n("div",{staticClass:"person-img"},[n("img",{attrs:{src:e.imgUrl}})]),n("div",{staticClass:"person-name"},[t._v(t._s(e.fullname))])])})),0):t._e(),n("el-button",{staticClass:"popover-btn",attrs:{slot:"reference"},slot:"reference"})],1)],1)},Ve=[],Qe={name:"personPicker",props:["item","groupId","members"],data:function(){return{visible:!1,assignedMembers:[],notAssignedMembers:[]}},created:function(){var t=this;this.assignedMembers=Object(Ot["a"])(this.item.person),this.notAssignedMembers=this.members.filter((function(e){return!t.assignedMembers.find((function(t){return t._id===e._id}))}))},methods:{removePerson:function(t){this.notAssignedMembers.push(t);var e=this.assignedMembers.findIndex((function(e){return e._id===t._id}));this.assignedMembers.splice(e,1),this.$emit("removeAssignedMember",{memberId:t._id,groupId:this.groupId,itemId:this.item.id})},addPerson:function(t){this.assignedMembers.push(t);var e=this.notAssignedMembers.findIndex((function(e){return e._id===t._id}));this.notAssignedMembers.splice(e,1),this.$emit("addAssignedMember",{person:t,groupId:this.groupId,itemId:this.item.id})}}},We=Qe,qe=Object(u["a"])(We,Ke,Ve,!1,null,null,null),He=qe.exports,Ze=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"date-picker"},[[r("div",{staticClass:"block"},[r("el-date-picker",{staticClass:"date",attrs:{size:"small",type:"date",format:"MMM d"},on:{change:t.changeDate},model:{value:t.currDate,callback:function(e){t.currDate=e},expression:"currDate"}})],1)]],2)},Xe=[],tr={name:"datePicker",props:["item","groupId"],data:function(){return{date:this.item.date,currDate:""}},created:function(){this.currDate=this.date},methods:{changeDate:function(){this.$emit("changeDate",{date:Date.parse(this.currDate),groupId:this.groupId,itemId:this.item.id})}}},er=tr,rr=Object(u["a"])(er,Ze,Xe,!1,null,null,null),nr=rr.exports,sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"timeline-picker"},[[r("div",{staticClass:"block flex"},[r("div",{staticClass:"time-to-show",style:t.styleObject},[r("span",{staticClass:"date-to-show"},[t._v(t._s(t.datesToShow))]),r("span",{staticClass:"days-count-to-show"},[t._v(t._s(t.daysCountToshow))])]),r("el-date-picker",{staticClass:"timeline",attrs:{size:"small",type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},on:{change:t.changeTimeline},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)]],2)},ir=[],or=(r("fb6a"),{name:"timelinePicker",props:["item","groupId","groupColor"],data:function(){return{startDate:this.item.timeline.startDate,endDate:this.item.timeline.endDate,value1:""}},created:function(){this.startDate&&this.endDate?this.value1=[this.startDate,this.endDate]:this.value1=null},mounted:function(){},methods:{changeTimeline:function(){var t=[];this.value1&&(t[0]=this.value1[0].getTime(),t[1]=this.value1[1].getTime()),this.$emit("changeTimeline",{dates:[t[0],t[1]],itemId:this.item.id,groupId:this.groupId})}},computed:{datesToShow:function(){if(!this.value1)return"-";var t=this.value1.map((function(t){var e=new Date(t).toString().slice(4,7),r=new Date(t).toString().slice(8,11);return"".concat(e," ").concat(r)})),e=t[0]+" - "+t[1];return t[0].slice(0,3)===t[1].slice(0,3)&&(e=t[0].slice(4,6)===t[1].slice(4,6)?e.slice(0,6):e.slice(0,7)+" - "+e.slice(13,16)),e},daysCountToshow:function(){return this.value1?Math.floor((new Date(this.value1[1])-new Date(this.value1[0]))/1e3/60/60/24+1)+"d":"Set Dates"},styleObject:function(){if(!this.value1)return{"background-color":this.groupColor};var t=this.value1[1]-this.value1[0],e=Date.now();if(!this.value1[1]||e>this.value1[1])return{"background-color":this.groupColor};if(!this.value1[0]||e<this.value1[0])return{"background-color":"rgb(31, 31, 31)"};var r=t/(e-this.value1[0]),n=100-Math.floor(100/r);return{background:"linear-gradient(to left, rgb(31, 31, 31) 0% ".concat(n,"%, ").concat(this.groupColor," ").concat(n,"% 100%)")}}}}),ar=or,ur=Object(u["a"])(ar,sr,ir,!1,null,null,null),lr=ur.exports,cr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"stopwatch-picker"},[r("div",{staticClass:"run-btn",on:{click:t.toggleStopwatch}},[t.isRunning?r("i",{staticClass:"el-icon-video-pause"}):r("i",{staticClass:"el-icon-caret-right"})]),t.secondsCount?r("div",{staticClass:"time"},["0h"!==t.hours?r("span",{staticClass:"hours"},[t._v(t._s(t.hours))]):t._e(),r("span",{staticClass:"minutes"},[t._v(t._s(t.minutes))]),r("span",{staticClass:"seconds"},[t._v(t._s(t.seconds))])]):t._e(),t.secondsCount&&!t.isRunning?r("div",{staticClass:"clear-btn",on:{click:t.clearStopwatch}},[r("i",{staticClass:"el-icon-close"})]):t._e()])},dr=[],pr={name:"stopwatchPicker",props:["stopwatch"],data:function(){return{secondsCount:0,isRunning:!1,countInterval:null}},created:function(){this.secondsCount=this.stopwatch.secondsCount},destroyed:function(){clearInterval(this.countInterval)},methods:{toggleStopwatch:function(){var t=this;this.isRunning?(clearInterval(this.countInterval),this.update()):this.countInterval=setInterval((function(){t.secondsCount++}),1e3),this.isRunning=!this.isRunning},clearStopwatch:function(){this.secondsCount=0,this.update()},update:function(){this.$emit("updateStopwatch",this.secondsCount)}},computed:{hours:function(){return Math.floor(this.secondsCount/60/60)+"h"},minutes:function(){return this.secondsCount/60<60?Math.floor(this.secondsCount/60)+"m":Math.floor(this.secondsCount/60%60)+"m"},seconds:function(){return this.secondsCount<60?this.secondsCount+"s":this.secondsCount%60+"s"}}},mr=pr,gr=Object(u["a"])(mr,cr,dr,!1,null,null,null),fr=gr.exports,hr={name:"itemPreview",props:["item","groupId","groupColor"],data:function(){return{newTitle:"",oldTitle:"",isEditTitle:!1,isOpenBottomModal:!1,hasNewUpdate:!1,newMsgCount:0}},components:{columnList:Ne,statusPicker:je,priorityPicker:Ye,personPicker:He,datePicker:nr,timelinePicker:lr,stopwatchPicker:fr},created:function(){Yt.on("item newUpdate",this.newUpdate)},destroyed:function(){Yt.off("item newUpdate",this.newUpdate)},methods:{newUpdate:function(t){t.itemId===this.item.id&&(this.newMsgCount++,this.hasNewUpdate=!0)},editTitle:function(){var t=this;this.isEditTitle=!0,setTimeout((function(){t.focusInput()}),50),this.newTitle=this.item.title,this.oldTitle=this.item.title},saveTitle:function(){if(this.isEditTitle=!1,this.newTitle&&this.newTitle!==this.oldTitle){var t=JSON.parse(JSON.stringify(this.item));t.title=this.newTitle,t.activityLog.unshift({id:"a_"+Jt.makeId(),action:"Title changed",time:Date.now(),byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}}),console.log(t.title),this.$store.dispatch({type:"editItem",item:t,groupId:this.groupId})}},removeItem:function(){var t=this.groupId,e=this.item;this.$store.dispatch({type:"removeItem",groupId:t,item:e})},handleCommand:function(t){"duplicate"===t&&this.duplicate()},duplicate:function(){var t=this.groupId,e=JSON.parse(JSON.stringify(this.item));e.activityLog=[{id:"a_"+Jt.makeId(),action:"duplicated",time:Date.now(),byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}}],console.log("item",e),e.title=e.title.concat(" (copy)"),this.$store.dispatch({type:"duplicateItem",groupId:t,item:e})},changeStatus:function(t){var e=JSON.parse(JSON.stringify(this.item));e.status=t.status,e.activityLog.unshift({id:"a_"+Jt.makeId(),action:"Status changed",time:Date.now(),byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}}),this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId})},changePriority:function(t){var e=JSON.parse(JSON.stringify(this.item));e.priority=t.priority,e.activityLog.unshift({id:"a_"+Jt.makeId(),action:"Priority changed",time:Date.now(),byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}}),this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId})},focusInput:function(){this.$refs.changeTitle.focus()},focusOut:function(){this.isEditTitle&&(this.isEditTitle=!1,this.saveTitle())},changeDate:function(t){var e=JSON.parse(JSON.stringify(this.item));e.date=t.date,e.activityLog.unshift({id:"a_"+Jt.makeId(),action:"Time changed",time:Date.now(),byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}}),this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId})},changeTimeline:function(t){var e=JSON.parse(JSON.stringify(this.item));t.dates?(e.timeline.startDate=t.dates[0],e.timeline.endDate=t.dates[1]):(e.timeline.startDate=null,e.timeline.endDate=null),e.activityLog.unshift({id:"a_"+Jt.makeId(),action:"Timeline changed",time:Date.now(),byUser:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"https://files.monday.com/use1/photos/26222916/thumb_small/26222916-user_photo_2021_11_30_09_26_11.png?1638264371"}}),this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId})},removeAssignedMember:function(t){var e=JSON.parse(JSON.stringify(this.item)),r=e.person.findIndex((function(e){return e._id===t.memberId}));e.person.splice(r,1),this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId})},addAssignedMember:function(t){var e=JSON.parse(JSON.stringify(this.item));e.person.push(t.person),this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId})},updateStopwatch:function(t){console.log("secondCount",t);var e=JSON.parse(JSON.stringify(this.item));e.stopwatch.secondsCount=t,this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId})}},computed:{groupColorStyle:function(){return{"group-color-open":this.isOpenBottomModal,"":!this.isOpenBottomModal}},cmpsOrder:function(){return this.$store.getters.cmpsOrder},members:function(){return this.$store.getters.members}}},vr=hr,br=Object(u["a"])(vr,Oe,Se,!1,null,null,null),_r=br.exports,yr={props:["items","group","groups"],data:function(){return{copyItems:JSON.parse(JSON.stringify(this.items)),copyGroup:JSON.parse(JSON.stringify(this.group))}},methods:{applyDrag:function(t,e){var r=e.removedIndex,n=e.addedIndex,s=e.payload;if(null===r&&null===n)return t;var i=s;return null!==r&&(i=t.splice(r,1)[0]),null!==n&&t.splice(n,0,i),t},onDrop:function(t){this.items=this.applyDrag(this.items,t),this.$store.dispatch({type:"justUpdateBoard"})},getItemPayload:function(t){return function(e){return t.items[e]}}},components:{Container:ot["Container"],Draggable:ot["Draggable"],itemPreview:_r},computed:{itemsToShow:function(){var t=this,e=this.$store.getters.currSortBy;return this.items.filter((function(e){var r=t.$store.getters.currFilterBy,n=new RegExp(r.txt,"i");return(n.test(t.group.title)||n.test(e.title))&&e.status.txt.includes(r.statusTxt)&&e.priority.txt.includes(r.priorityTxt)&&(!r.personId||e.person.some((function(t){return t._id.includes(r.personId)})))})).sort((function(t,r){var n;switch(e.type){case"status":n=t.status.txt>r.status.txt;break;case"priority":n=t.priority.importance>r.priority.importance;break;case"date":n=t.date>r.date,console.log("i1.date, i2.date",t.date,r.date);break;case"timeline":n=t.timeline.startDate>r.timeline.startDate;break;case"stopwatch":n=t.stopwatch.secondsCount>r.stopwatch.secondsCount;break;case"person":var s=Object(Ot["a"])(t.person).sort((function(t,e){return t.fullname>e.fullname}))[0],i=Object(Ot["a"])(r.person).sort((function(t,e){return t.fullname>e.fullname}))[0];n=s&&i?s.fullname>i.fullname:!!s;break;default:return 0}return n?e.direction:-1*e.direction}))}}},wr=yr,Cr=(r("0fad"),Object(u["a"])(wr,ke,Ie,!1,null,null,null)),xr=Cr.exports,kr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[t.statusToShow?r("div",{staticClass:"sum-container flex justify-center"},t._l(t.statusCount,(function(e,n,s){return r("div",{key:n,staticClass:"sum-cell",style:{width:e*t.widthUnitStatus+"px",backgroundColor:t.cellsColorsStatus[s]}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n+", "+e+" out of "+t.group.items.length,placement:"top"}},[r("el-button",{staticClass:"tooltip-btn"})],1)],1)})),0):t.priorityToShow?r("div",{staticClass:"sum-container flex justify-center"},t._l(t.priorityCount,(function(e,n,s){return r("div",{key:n,staticClass:"sum-cell",style:{width:e*t.widthUnitPriority+"px",backgroundColor:t.cellsColorsPriority[s]}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:n+", "+e+" out of "+t.group.items.length,placement:"top"}},[r("el-button",{staticClass:"tooltip-btn"})],1)],1)})),0):r("div",{staticClass:"empty-div"})])},Ir=[],Or=(r("b680"),{name:"itemSum",props:["group","cmp"],data:function(){return{cellsColorsStatus:[],cellsColorsPriority:[],tooltipStatus:[],tooltipPriority:[]}},created:function(){},methods:{},computed:{statusToShow:function(){if("status-picker"===this.cmp)return!0},priorityToShow:function(){if("priority-picker"===this.cmp)return!0},statusCount:function(){if("status-picker"===this.cmp){var t={},e=[];return this.group.items.forEach((function(r){e.includes(r.status.bgColor)||e.push(r.status.bgColor),t[r.status.txt]?t[r.status.txt]+=1:t[r.status.txt]=1})),this.cellsColorsStatus=e,t}},priorityCount:function(){if("priority-picker"===this.cmp){var t={},e=[];return this.group.items.forEach((function(r){e.includes(r.priority.bgColor)||e.push(r.priority.bgColor),t[r.priority.txt]?t[r.priority.txt]+=1:t[r.priority.txt]=1})),this.cellsColorsPriority=e,t}},totalCountStatus:function(){return this.group.items.length},widthUnitStatus:function(){return(180/this.totalCountStatus).toFixed(1)},totalCountPriority:function(){return this.group.items.length},widthUnitPriority:function(){return(180/this.totalCountPriority).toFixed(1)}}}),Sr=Or,Ar=Object(u["a"])(Sr,kr,Ir,!1,null,null,null),Ur=Ar.exports,Br=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Container",{staticClass:"coloums-titles",attrs:{"drop-placeholder":{className:"ooo"},behaviour:"move",orientation:"horizontal","drag-class":"title-column-is-in-darg","drag-handle-selector":".group-handle"},on:{drop:t.onDrop}},[t._l(t.cmpsOrder,(function(e){return n("Draggable",{key:e,staticClass:"coloums-title"},[n("li",{staticClass:"title-column flex",on:{click:function(r){return t.sort(e)}}},[n("div",{staticClass:"group-handle group-handle-column"},[n("img",{attrs:{draggable:"false",src:r("300a"),alt:""}})]),n("div",{staticClass:"title-iner"},[t._v(" "+t._s(t.toTitle(e))+" ")]),e.split("-")[0]===t.sortBy.type?[n("div",{staticClass:"sort-dir-btn"},[1===t.sortBy.direction?n("i",{staticClass:"el-icon-caret-top"}):n("i",{staticClass:"el-icon-caret-bottom"})]),n("div",{staticClass:"sort-clr-btn",on:{click:function(e){return e.stopPropagation(),t.sort("-")}}},[n("i",{staticClass:"el-icon-close"})])]:t._e()],2)])})),n("div",{staticClass:"add-column"},[n("i",{staticClass:"el-icon-circle-plus-outline"})])],2)},Dr=[],Tr=(r("1276"),{props:["cmpsOrder","sortBy"],components:{Container:ot["Container"],Draggable:ot["Draggable"]},data:function(){return{currCmpsOrder:this.cmpsOrder}},methods:{applyDrag:function(t,e){var r=e.removedIndex,n=e.addedIndex,s=e.payload;if(null===r&&null===n)return t;var i=s;return null!==r&&(i=t.splice(r,1)[0]),null!==n&&t.splice(n,0,i),t},onDrop:function(t){this.cmpsOrder=this.applyDrag(this.cmpsOrder,t),this.$store.dispatch({type:"justUpdateBoard"})},toTitle:function(t){var e=t.split("-")[0];return e.charAt(0).toUpperCase()+e.slice(1)},sort:function(t){this.$emit("sort",t.split("-")[0])}}}),Nr=Tr,Er=Object(u["a"])(Nr,Br,Dr,!1,null,null,null),Pr=Er.exports,Rr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommandGroup}},[r("span",{staticClass:"el-dropdown-link"},[r("i",{staticClass:"el-icon-caret-bottom group-title-btn",style:{"background-color":t.group.color}})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"delete"}},[r("i",{staticClass:"el-icon-delete"}),t._v(" Delete group ")]),r("el-dropdown-item",{style:{color:t.group.color},attrs:{command:"changeColor"}},[r("i",{staticClass:"el-icon-orange"}),t._v(" Change group color ")])],1)],1)},Jr=[],Lr={name:"groupDropdown",props:["group"],data:function(){return{color:"#ff4500",predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585"]}},methods:{handleCommandGroup:function(t){"delete"===t&&this.removeGroup(),"changeColor"===t&&this.changeGroupColor()},changeGroupColor:function(){this.$emit("changeGroupColor",this.group)},removeGroup:function(){this.$emit("removeGroup",this.group.id)}}},jr=Lr,Mr=Object(u["a"])(jr,Rr,Jr,!1,null,null,null),$r=Mr.exports,Fr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("div",{staticClass:"color-in-palette",style:{"background-color":t.colorOpt},on:{click:t.setColor}})])},Gr=[],zr={name:"groupColors",props:["colorOpt"],data:function(){return{}},methods:{setColor:function(){this.$emit("setColor",this.colorOpt)}}},Yr=zr,Kr=Object(u["a"])(Yr,Fr,Gr,!1,null,null,null),Vr=Kr.exports,Qr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.groupModal===t.group.id?r("div",{ref:"focusModal",staticClass:"colors-modal flex wrap",attrs:{tabindex:"0"},on:{blur:t.focusOut}},t._l(t.predefineColors,(function(e){return r("group-colors",{key:e,attrs:{group:t.group,colorOpt:e},on:{setColor:t.setColor}})})),1):t._e()},Wr=[],qr={props:["groupModal","group"],components:{groupColors:Vr},data:function(){return{predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#00ecd1","#1e90ff","#c71585","#c7f5a5","#c7158577"]}},mounted:function(){},methods:{setColor:function(t){var e=JSON.parse(JSON.stringify(this.group));e.color=t,this.$emit("setColor",e)},focusDiv:function(){},focusOut:function(){}},computed:{},watch:{groupModal:function(t,e){}}},Hr=qr,Zr=Object(u["a"])(Hr,Qr,Wr,!1,null,null,null),Xr=Zr.exports,tn={name:"groupList",props:["groups","cmpsOrder"],components:{Container:ot["Container"],Draggable:ot["Draggable"],addItem:xe,columnTitles:Pr,groupDropdown:$r,itemList:xr,itemSum:Ur,groupColors:Vr,groupColorPalette:Xr},data:function(){return{allGroups:JSON.parse(JSON.stringify(this.groups)),groupModal:null}},methods:{groupToShow:function(t){return t},applyDrag:function(t,e){var r=e.removedIndex,n=e.addedIndex,s=e.payload;if(null===r&&null===n)return t;var i=s;return null!==r&&(i=t.splice(r,1)[0]),null!==n&&(console.log("add",i),t.splice(n,0,i)),t},onDrop:function(t){this.groups=this.applyDrag(this.groups,t),this.$store.dispatch({type:"justUpdateBoard"})},addItem:function(t){var e=t.newItemTitle,r=t.groupId;this.$store.dispatch({type:"addItem",newItemTitle:e,groupId:r})},changeGroupTitle:function(t,e){var r=JSON.parse(JSON.stringify(e));r.title=t,this.$store.dispatch({type:"updateGroup",group:r})},handleCommandGroup:function(t){"delete"===t&&this.removeGroup(groupId)},openColorModal:function(t){this.groupModal=t.id},setColor:function(t){this.groupModal=null,this.$store.dispatch({type:"updateGroup",group:t})},removeGroup:function(t){this.$store.dispatch({type:"removeGroup",groupId:t})},showAddItem:function(){this.isShowAdd=!0},sort:function(t){if(!t){var e={type:"",direction:1};return this.$store.dispatch({type:"updateSort",sortBy:e}),void console.log("this.sortBy",this.sortBy)}e=JSON.parse(JSON.stringify(this.$store.getters.currSortBy));e.direction=e.type===t?-1*e.direction:1,e.type=t,this.$store.dispatch({type:"updateSort",sortBy:e})}},computed:{sortBy:function(){return this.$store.getters.currSortBy},classObject:function(){return"title"===this.sortBy.type?{sorting:!0,up:1===this.sortBy.direction,down:-1===this.sortBy.direction}:{}}}},en=tn,rn=Object(u["a"])(en,vt,bt,!1,null,null,null),nn=rn.exports,sn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"board-details-header"},[r("section",{staticClass:"flex top"},[r("div",{staticClass:"flex title item"},[r("h1",[t._v(t._s(t.boardTitle))]),r("i",{staticClass:"el-icon-warning-outline"}),r("i",{staticClass:"el-icon-star-off"})]),r("div",{staticClass:"flex right"},[r("div",{staticClass:"flex avatars item"},[r("p",{staticClass:"members-title"},[t._v("Board members")]),t._l(t.boardMembers,(function(e,n){return r("el-popover",{key:n,attrs:{placement:"top-start",width:"150",trigger:"hover"}},[r("div",{staticClass:"avatar",attrs:{slot:"reference"},slot:"reference"},[r("img",{attrs:{src:e.imgUrl}})]),r("div",{staticClass:"avater-hover"},[r("h5",[t._v(t._s(e.fullname))]),r("div",{staticClass:"hover-img"},[r("img",{attrs:{src:e.imgUrl}})])])])}))],2),r("div",{staticClass:"item flex invite",on:{click:t.open}},[r("i",{staticClass:"el-icon-user"}),r("p",[t._v("invite / "+t._s(t.boardMembers.length))])]),t._m(0),t._m(1)])]),r("section",{staticClass:"about-board"},[r("el-input",{attrs:{type:"textarea",rows:1,placeholder:"Add board description"}})],1),r("el-tabs",{on:{"tab-click":t.changeMode},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"Main table",name:"sunday"}}),r("el-tab-pane",{attrs:{label:"Columns",name:"second"}})],1),r("section",{staticClass:"bottom flex"},[r("div",{staticClass:"add-group-btn",on:{click:t.addGroup}},[t._v("Add group")]),r("board-filter",{attrs:{filterBy:t.filterBy,board:t.board},on:{filter:t.filter}})],1)],1)},on=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex activity item"},[r("i",{staticClass:"el-icon-finished"}),r("p",[t._v("Activity")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex add-to-board item"},[r("i",{staticClass:"el-icon-plus"}),r("p",[t._v("Add to board")])])}],an={components:{boardFilter:nt},data:function(){return{boardTitle:this.$store.getters.currBoard.title,filterBy:null,board:this.$store.getters.currBoard,activeName:"sunday"}},created:function(){this.filterBy=this.$store.getters.currFilterBy},computed:{boardMembers:function(){return this.$store.getters.currBoard.members}},methods:{changeMode:function(){this.$emit("changeMode")},getImgUrl:function(t){return console.log(this.boardMembers[t].imgUrl),this.boardMembers[t].imgUrl},addGroup:function(){this.$store.dispatch({type:"addGroup"})},filter:function(t){this.filterBy=t,this.$store.commit({type:"updateFilter",filterBy:t}),this.$store.dispatch({type:"updateFilter",filterBy:t})},open:function(){var t=this;this.$prompt("Please enter an email address","Invite a new member to your board",{confirmButtonText:"Send",cancelButtonText:"Cancel"}).then((function(e){var r=e.value;xt.post("board/send",{from:"Sunday App  <yaakovmargalit@gmail.com>",to:r,subject:"New message from Sunday ",text:"Join our board",html:'<h2>Join our board  <a href="https://sunday-app-pro.herokuapp.com/#/board/'.concat(t.$store.getters.currBoard._id,"?username=").concat(t.getUserName(r),'">click here</a></h2>')})})).catch((function(){t.$message({type:"info",message:"Input canceled"})}))},getUserName:function(t){return t.split("@")[0]}},watch:{"$store.getters.currBoard":function(){this.boardTitle=this.$store.getters.currBoard.title}}},un=an,ln=Object(u["a"])(un,sn,on,!1,null,null,null),cn=ln.exports,dn="loggedinUser",pn={login:_n,logout:xn,signup:wn,getLoggedinUser:An,getUsers:mn,getById:gn,remove:hn,update:vn,changeScore:In};function mn(){return At.query("user")}function gn(t){return fn.apply(this,arguments)}function fn(){return fn=Object(D["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,At.get("user",e);case 2:return r=t.sent,r,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)}))),fn.apply(this,arguments)}function hn(t){return At.remove("user",t)}function vn(t){return bn.apply(this,arguments)}function bn(){return bn=Object(D["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,At.put("user",e);case 2:return An()._id===e._id&&Sn(e),t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),bn.apply(this,arguments)}function _n(t){return yn.apply(this,arguments)}function yn(){return yn=Object(D["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt.post("auth/login",e);case 2:if(r=t.sent,!r){t.next=5;break}return t.abrupt("return",Sn(r));case 5:case"end":return t.stop()}}),t)}))),yn.apply(this,arguments)}function wn(t){return Cn.apply(this,arguments)}function Cn(){return Cn=Object(D["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.score=1e4,t.next=3,xt.post("auth/signup",e);case 3:return r=t.sent,t.abrupt("return",Sn(r));case 5:case"end":return t.stop()}}),t)}))),Cn.apply(this,arguments)}function xn(){return kn.apply(this,arguments)}function kn(){return kn=Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return sessionStorage.removeItem(dn),t.next=3,xt.post("auth/logout");case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),kn.apply(this,arguments)}function In(t){return On.apply(this,arguments)}function On(){return On=Object(D["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=An(),r){t.next=3;break}throw new Error("Not loggedin");case 3:return r.score=r.score+e||e,t.next=6,vn(r);case 6:return t.abrupt("return",r.score);case 7:case"end":return t.stop()}}),t)}))),On.apply(this,arguments)}function Sn(t){return sessionStorage.setItem(dn,JSON.stringify(t)),t}function An(){return Un.apply(this,arguments)}function Un(){return Un=Object(D["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=sessionStorage.getItem(dn),e){t.next=6;break}return t.next=4,_n({username:"Guest",password:"1234"});case 4:return r=t.sent,t.abrupt("return",r);case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)}))),Un.apply(this,arguments)}window.userService=pn;var Bn={components:{groupList:nn,boardDetailsHeader:cn,boardFilter:nt,trelloList:ht},data:function(){return{byStatus:!0,activeName:"sunday",tableMode:!0}},created:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadUser"});case 2:return e.next=4,t.loadBoard();case 4:if(Yt.on("board updateBoard",t.updateBoard),!t.$route.query.username){e.next=18;break}if(t.loggedinUser.username!==t.$route.query.username){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,t.$store.dispatch({type:"logout"});case 10:return e.next=12,t.$store.dispatch({type:"signup",userCred:{username:t.$route.query.username,password:"1234",email:t.$route.query.username+"@gmail.com"}});case 12:return r={_id:Jt.makeId(),fullname:t.$route.query.username,imgUrl:"https://image.freepik.com/free-photo/pleasant-looking-serious-man-stands-profile-has-confident-expression-wears-casual-white-t-shirt_273609-16959.jpg"},console.log(t.currBoard),n=JSON.parse(JSON.stringify(t.currBoard)),n.members.push(r),e.next=18,t.$store.dispatch({type:"updateMembers",copyMembers:n.members});case 18:t.$store.dispatch({type:"loadUser"}),t.filterBy=t.$store.getters.currFilterBy;case 20:case"end":return e.stop()}}),e)})))()},destroyed:function(){Yt.off("board updateBoard",this.updateBoard)},methods:{changeMode:function(){this.tableMode=!this.tableMode},addGroup:function(){this.$store.dispatch({type:"addGroup"})},loadBoard:function(){var t=this.$route.params.boardId;this.$store.dispatch({type:"getBoard",boardId:t})},updateBoard:function(t){this.$store.commit({type:"loadBoard",board:t})}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},currBoard:function(){return this.$store.getters.currBoard},cmpsOrder:function(){return this.$store.getters.cmpsOrder}},watch:{"$route.params.boardId":function(){this.loadBoard()}}},Dn=Bn,Tn=(r("a239"),Object(u["a"])(Dn,q,H,!1,null,null,null)),Nn=Tn.exports,En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-drawer",{attrs:{size:"40%","before-close":t.handleClose,visible:t.drawer,direction:"rtl"},on:{"update:visible":function(e){t.drawer=e}}},[n("section",{staticClass:"item-details"},[n("div",{staticClass:"item-details-header"},[n("div",{staticClass:"flex top-header"},[n("h2",[t._v(t._s(t.currItem.title))]),n("div",{staticClass:"flex avatars item"},[n("p",[t._v("Members")]),t._l(t.currItem.person,(function(t){return n("el-avatar",{key:t._id,staticClass:"avatar",attrs:{size:"small",src:t.imgUrl}})}))],2)])]),n("div",{staticClass:"item-details-body"},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"Update",name:"first"}},[n("section",{staticClass:"update"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.addUpdate.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.updateTxt,expression:"updateTxt"}],staticClass:"update-input",attrs:{type:"text",placeholder:"Write an update..."},domProps:{value:t.updateTxt},on:{input:function(e){e.target.composing||(t.updateTxt=e.target.value)}}}),n("button",{staticClass:"update-btn",attrs:{disabled:!t.updateTxt}},[t._v(" Update ")])]),n("div",{staticClass:"updates-preview"},t._l(t.currItem.updates,(function(e){return n("div",{key:e.id,staticClass:"update-preview"},[n("div",{staticClass:"main-update"},[n("div",{staticClass:"by-user flex"},[n("el-avatar",{staticClass:"user-icon",attrs:{src:e.byUser.imgUrl||"https://www.w3schools.com/howto/img_avatar.png",size:"medium",icon:"el-icon-user-solid"}}),t._v(" "+t._s(e.byUser.fullname)+" ")],1),t._v(" "+t._s(e.txt)+" ")]),n("div",{staticClass:"update-actions flex"},[n("div",{staticClass:"update-actions-btn flex",on:{click:function(e){t.isLike=!t.isLike}}},[t.isLike?n("img",{attrs:{src:r("c755"),alt:""}}):n("img",{attrs:{src:r("9f80"),alt:""}}),t._v(" Like ")]),n("div",{staticClass:"update-actions-btn flex",on:{click:function(r){return t.addReply(e.id)}}},[n("img",{attrs:{src:r("c718"),alt:""}}),t._v("Reply ")])]),n("div",{staticClass:"update-reply flex"},[n("el-avatar",{staticClass:"user-icon",attrs:{src:t.loggedinUser.imgUrl||"https://www.w3schools.com/howto/img_avatar.png",size:"medium",icon:"el-icon-user-solid"}}),n("form",{on:{submit:function(r){return r.preventDefault(),t.addReply(e.id)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.replyTxt,expression:"replyTxt"}],attrs:{type:"text",placeholder:"Write a reply..."},domProps:{value:t.replyTxt},on:{input:function(e){e.target.composing||(t.replyTxt=e.target.value)}}})])],1),n("div",t._l(e.replies,(function(e){return n("div",{key:e.id,staticClass:"reply-preview"},[e.byUser?n("div",{staticClass:"reply-avatar"},[n("el-avatar",{staticClass:"user-icon",attrs:{src:e.byUser.imgUrl,size:"small",icon:"el-icon-user-solid"}})],1):t._e(),n("div",[t._v(" "+t._s(e.txt)+" ")])])})),0)])})),0)])]),n("el-tab-pane",{attrs:{label:"Files",name:"second"}},[t._v("Files")]),n("el-tab-pane",{attrs:{label:"Activity Log",name:"third"}},t._l(t.currItem.activityLog,(function(e){return n("activity-log",{key:e.id,attrs:{activity:e,currItem:t.currItem}})})),1)],1)],1)])])},Pn=[],Rn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("section",{staticClass:"activity-log"},[r("div",[r("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.time)+" ")]),r("div",[t._v(t._s(t.currItem.title))]),r("el-avatar",{staticClass:"user-icon",attrs:{src:t.activity.byUser.imgUrl,size:"small",icon:"el-icon-user-solid"}}),r("div",[t._v(" "+t._s(t.activity.action)+" ")])],1),r("hr")])},Jn=[],Ln={name:"activityLog",props:["activity","currItem"],data:function(){return{}},methods:{},computed:{time:function(){return Jt.timePassed(this.activity.time)}}},jn=Ln,Mn=Object(u["a"])(jn,Rn,Jn,!1,null,null,null),$n=Mn.exports,Fn={components:{activityLog:$n},data:function(){return{drawer:!0,activeName:"first",updateTxt:"",replyTxt:"",groupId:"",isLike:!1}},created:function(){this.drawer=!0,console.log(this.currItem)},methods:{addActivity:function(){},timeAgo:function(){},addUpdate:function(){if(this.updateTxt){var t={id:Jt.makeId(),byUser:this.$store.getters.loggedinUser,txt:this.updateTxt,replies:[],likes:[]};console.log(t.byUser);var e=JSON.parse(JSON.stringify(this.currItem));e.updates.unshift(t),this.updateTxt="",this.$store.dispatch({type:"editItem",item:e,groupId:this.groupId}),Yt.emit("item newItemUpdate",{itemId:e.id,groupId:this.groupId})}},addReply:function(t){if(this.replyTxt){var e={id:Jt.makeId(),txt:this.replyTxt,byUser:this.$store.getters.loggedinUser},r=JSON.parse(JSON.stringify(this.currItem)),n=r.updates.findIndex((function(e){return e.id===t}));r.updates[n].replies.push(e),this.$store.dispatch({type:"editItem",item:r,groupId:this.groupId}),Yt.emit("item newItemUpdate",{itemId:r.id,groupId:this.groupId}),this.replyTxt=""}},handleClose:function(t){this.$router.push("/board/"+this.$store.getters.currBoard._id).then((function(e){t()})).catch((function(t){}))}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},currItem:function(){var t=this.$route.params.itemId,e=this.$store.getters.getItemById(t);return this.groupId=e.groupId,e.item},likeImg:function(){return"@/assets/images/like.svg"}}},Gn=Fn,zn=Object(u["a"])(Gn,En,Pn,!1,null,null,null),Yn=zn.exports,Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-singup"},[n("img",{attrs:{src:r("8e79"),alt:""}}),t._v(" "+t._s(t.msg)+" "),t.loggedinUser?n("div",[n("h3",[t._v(" Loggedin User: "+t._s(t.loggedinUser.username)+" "),n("button",{on:{click:t.doLogout}},[t._v("Logout")])])]):n("div",[t.showLogin?n("form",{staticClass:"login-singup-form",on:{submit:function(e){return e.preventDefault(),t.doLogin.apply(null,arguments)}}},[n("h2",[t._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.username,expression:"loginCred.username"}],attrs:{type:"text",placeholder:"User name"},domProps:{value:t.loginCred.username},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"username",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),n("button",[t._v("Login")]),n("p",[t._v(" If you do not have an account. "),n("b",{on:{click:function(e){t.showLogin=!t.showLogin}}},[t._v("Sign up")])])]):n("form",{staticClass:"login-singup-form",on:{submit:function(e){return e.preventDefault(),t.doSignup.apply(null,arguments)}}},[n("h2",[t._v("Signup")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",placeholder:"Your email"},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.signupCred.username},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"username",e.target.value)}}}),n("button",[t._v("Signup")]),n("p",[t._v(" If you already have an account. "),n("b",{on:{click:function(e){t.showLogin=!t.showLogin}}},[t._v("Login")])])])]),n("router-link",{attrs:{to:"/"}},[t._v("Back")])],1)},Vn=[],Qn={name:"test",data:function(){return{msg:"",loginCred:{username:"",password:""},signupCred:{username:"",password:"",email:""},showLogin:!0}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){this.$store.dispatch({type:"loadUser"})},methods:{doLogin:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loginCred.username){e.next=3;break}return t.msg="Please enter username/password",e.abrupt("return");case 3:return e.prev=3,e.next=6,t.$store.dispatch({type:"login",userCred:t.loginCred});case 6:t.$router.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log(e.t0),t.msg="Failed to login";case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.signupCred.email&&t.signupCred.password&&t.signupCred.username){e.next=3;break}return t.msg="Please fill up the form",e.abrupt("return");case 3:return e.next=5,t.$store.dispatch({type:"signup",userCred:t.signupCred});case 5:t.$router.push("/");case 6:case"end":return e.stop()}}),e)})))()},loadUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(t){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$store.dispatch({type:"removeUser",userId:t});case 3:e.msg="User removed",r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),e.msg="Failed to remove user";case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()}}},Wn=Qn,qn=Object(u["a"])(Wn,Kn,Vn,!1,null,null,null),Hn=qn.exports;n["default"].use(p["a"]);var Zn=[{path:"/",name:"Home",component:b},{path:"/login",name:"Login",component:Hn},{path:"/board",name:"boardApp",component:W,children:[{path:":boardId",component:Nn,children:[{path:"item/:itemId",component:Yn}]}]}],Xn=new p["a"]({routes:Zn}),ts=Xn,es=r("2f62"),rs={state:{loggedinUser:{},users:[],watchedUser:null},getters:{users:function(t){var e=t.users;return e},loggedinUser:function(t){var e=t.loggedinUser;return e},watchedUser:function(t){var e=t.watchedUser;return e}},mutations:{setLoggedinUser:function(t,e){var r=e.user;t.loggedinUser=r?Object(St["a"])({},r):null},setWatchedUser:function(t,e){var r=e.user;t.watchedUser=r},setUsers:function(t,e){var r=e.users;t.users=r},removeUser:function(t,e){var r=e.userId;t.users=t.users.filter((function(t){return t._id!==r}))},setUserScore:function(t,e){var r=e.score;t.loggedinUser.score=r},setUser:function(t,e){var r=e.user;t.loggedinUser=r}},actions:{login:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.userCred,r.prev=2,r.next=5,pn.login(s);case 5:return i=r.sent,n({type:"setLoggedinUser",user:i}),r.abrupt("return",i);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("userStore: Error in login",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},signup:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.userCred,r.prev=2,r.next=5,pn.signup(s);case 5:return i=r.sent,n({type:"setLoggedinUser",user:i}),r.abrupt("return",i);case 10:throw r.prev=10,r.t0=r["catch"](2),console.log("userStore: Error in signup",r.t0),r.t0;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},logout:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,pn.logout();case 4:r({type:"setLoggedinUser",user:null}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("userStore: Error in logout",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()},loadUsers:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,pn.getUsers();case 4:n=e.sent,r({type:"setUsers",users:n}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("userStore: Error in loadUsers",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadAndWatchUser:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.userId,r.prev=2,r.next=5,pn.getById(s);case 5:i=r.sent,n({type:"setWatchedUser",user:i}),socketService.emit(SOCKET_EMIT_USER_WATCH,s),socketService.off(SOCKET_EVENT_USER_UPDATED),socketService.on(SOCKET_EVENT_USER_UPDATED,(function(t){n({type:"setWatchedUser",user:t})})),r.next=16;break;case 12:throw r.prev=12,r.t0=r["catch"](2),console.log("userStore: Error in loadAndWatchUser",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()},removeUser:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.userId,r.prev=2,r.next=5,pn.remove(s);case 5:n({type:"removeUser",userId:s}),r.next=12;break;case 8:throw r.prev=8,r.t0=r["catch"](2),console.log("userStore: Error in removeUser",r.t0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})))()},updateUser:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.user,r.prev=2,r.next=5,pn.update(s);case 5:s=r.sent,n({type:"setUser",user:s}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("userStore: Error in updateUser",r.t0),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},increaseScore:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,pn.changeScore(100);case 4:n=e.sent,r({type:"setUserScore",score:n}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("userStore: Error in increaseScore",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadUser:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,pn.getLoggedinUser();case 4:n=e.sent,r({type:"setUser",user:JSON.parse(n)}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("userStore: Error in loadUser",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},ns={state:{board:null,filteredBoard:null,boardsList:null,filterBy:{txt:"",personId:"",statusTxt:"",priorityTxt:""},sortBy:{type:"",direction:1}},getters:{currBoard:function(t){return t.board},currGroups:function(t){return t.board.groups},boardsList:function(t){return t.boardsList},cmpsOrder:function(t){return t.board.cmpsOrder},members:function(t){return t.board.members},getItemById:function(t){return function(e){for(var r=0;r<t.board.groups.length;r++)for(var n=0;n<t.board.groups[r].items.length;n++)if(t.board.groups[r].items[n].id===e)return{item:t.board.groups[r].items[n],groupId:t.board.groups[r].id};console.log("couldnt find id")}},currFilterBy:function(t){return JSON.parse(JSON.stringify(t.filterBy))},currSortBy:function(t){return JSON.parse(JSON.stringify(t.sortBy))}},mutations:{loadBoard:function(t,e){var r=e.board;t.board=r},addBoard:function(t,e){var r=e.newBoard;console.log(r),t.board=r,t.boardsList.push({boardId:r._id,boardTitle:r.title})},removeBoard:function(t,e){var r=e.boardId;t.board=null,t.boardsList=t.boardsList.filter((function(t){return t.boardId!==r}))},updateMembers:function(t,e){var r=e.members;t.board.members=r},loadBoardsList:function(t,e){var r=e.boardsList;t.boardsList=r},loadCmpsOrder:function(t,e){var r=e.cmpsOrder;t.board.cmpsOrder=r},loadGroups:function(t,e){var r=e.groups;t.board.groups=r},addGroup:function(t,e){var r=e.newGroup;t.board.groups.unshift(r)},updateGroup:function(t,e){var r=e.group,n=t.board.groups.findIndex((function(t){return t.id===r.id}));t.board.groups.splice(n,1,r)},updateFilter:function(t,e){var r=e.filterBy;t.filterBy=r},addItem:function(t,e){var r=e.newItem,n=e.groupIdx;t.board.groups[n].items.push(r)},removeItem:function(t,e){var r=e.groupIdx,n=e.itemIdx;t.board.groups[r].items.splice(n,1)},updateItem:function(t,e){var r=e.groupIdx,n=e.item,s=e.itemIdx;t.board.groups[r].items.splice(s,1,n)},duplicateItem:function(t,e){var r=e.groupIdx,n=e.itemIdx,s=e.dupItem;t.board.groups[r].items.splice(n,0,s)},filter:function(t,e){var r=e.filterBy;console.log("state.board",t.board);var n=JSON.parse(JSON.stringify(t.board)),s=[];n.groups.forEach((function(t){if(t.title.toLowerCase().includes(r.txt.toLowerCase()))s.push(t);else{var e=[];t.items.forEach((function(t){t.title.toLowerCase().includes(r.txt.toLowerCase())&&e.push(t)})),e.length&&(t.items=e,s.push(t))}})),n.groups=s,r.personId&&(s=[],n.groups.forEach((function(t){var e=[];t.items.forEach((function(t){t.person.forEach((function(n){n._id===r.personId&&e.push(t)}))})),e.length&&(t.items=e,s.push(t))})),n.groups=s),r.statusTxt&&(s=[],n.groups.forEach((function(t){var e=[];t.items.forEach((function(t){t.status.txt===r.statusTxt&&e.push(t)})),e.length&&(t.items=e,s.push(t))})),n.groups=s),r.priorityTxt&&(s=[],n.groups.forEach((function(t){var e=[];t.items.forEach((function(t){t.priority.txt===r.priorityTxt&&e.push(t)})),e.length&&(t.items=e,s.push(t))})),n.groups=s),t.filteredBoard=n},sort:function(t,e){var r=e.sortBy;t.filteredBoard.groups.forEach((function(e){var n=e.items;if("status"===r.type&&n.sort((function(t,e){return t.status.txt>e.status.txt?r.direction:-1*r.direction})),"priority"===r.type&&n.sort((function(t,e){return t.priority.importance>e.priority.importance?r.direction:-1*r.direction})),"person"===r.type){var s=JSON.parse(JSON.stringify(t.board));s.members.sort((function(t,e){return t.fullname>e.fullname?1:-1}));n.forEach((function(t){t.person.sort((function(t,e){return t.fullname>e.fullname?1:-1}))})),n.sort((function(t,e){return t.person.length&&e.person.length?t.person[0].fullname>e.person[0].fullname?r.direction:-1*r.direction:t.person.length?r.direction:-1*r.direction}))}"date"===r.type&&n.sort((function(t,e){return t.date>e.date?r.direction:-1*r.direction})),"timeline"===r.type&&n.sort((function(t,e){return t.timeline.startDate>e.timeline.startDate?r.direction:-1*r.direction})),"stopwatch"===r.type&&n.sort((function(t,e){return t.stopwatch.secondsCount>e.stopwatch.secondsCount?r.direction:-1*r.direction})),"title"===r.type&&n.sort((function(t,e){return t.title>e.title?r.direction:-1*r.direction}))}))}},actions:{updateBoard:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.commit,n=e.board,console.log("emiting new update ",n.title),r.next=5,Vt.update(n);case 5:case"end":return r.stop()}}),r)})))()},updateMembers:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.copyMembers,o=JSON.parse(JSON.stringify(n.board)),o.members=i,r.next=6,Vt.update(o);case 6:s({type:"updateMembers",members:o.members});case 7:case"end":return r.stop()}}),r)})))()},newBoard:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.boardName,i=Vt.getEmptyBoard(s),r.next=5,Vt.add(i);case 5:return i=r.sent,n({type:"addBoard",newBoard:i}),r.abrupt("return",i);case 8:case"end":return r.stop()}}),r)})))()},removeBoard:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.boardId,r.next=4,Vt.remove(s);case 4:n({type:"removeBoard",boardId:s});case 5:case"end":return r.stop()}}),r)})))()},getBoard:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,s=e.boardId,r.next=4,Vt.getById(s);case 4:i=r.sent,Yt.emit("open board",i._id),n({type:"loadBoard",board:i});case 7:case"end":return r.stop()}}),r)})))()},getBoardsList:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Vt.getBoardsList();case 3:n=e.sent,r({type:"loadBoardsList",boardsList:n});case 5:case"end":return e.stop()}}),e)})))()},updateGroups:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=t.groups,s=JSON.parse(JSON.stringify(state.board)),s.groups=n,e.next=5,Vt.update(s);case 5:r({type:"loadGroups",groups:s.groups});case 6:case"end":return e.stop()}}),e)})))()},changeGroupsOrder:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.groups,o=JSON.parse(JSON.stringify(n.board)),a=JSON.parse(JSON.stringify(i)),o.groups=a,r.next=7,Vt.update(o);case 7:Yt.emit("board newUpdateBoard",o),s({type:"loadGroups",groups:o.groups});case 9:case"end":return r.stop()}}),r)})))()},changeCmpsOrder:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.cmpsOrder,o=JSON.parse(JSON.stringify(n.board)),o.cmpsOrder=i,r.next=6,Vt.update(o);case 6:Yt.emit("board newUpdateBoard",o),s({type:"loadCmpsOrder",cmpsOrder:i}),s({type:"loadGroups",groups:o.groups});case 9:case"end":return r.stop()}}),r)})))()},updateGroup:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.group,o=JSON.parse(JSON.stringify(n.board)),a=o.groups.findIndex((function(t){return t.id===i.id})),o.groups.splice(a,1,i),r.next=7,Vt.update(o);case 7:Yt.emit("board newUpdateBoard",o),s({type:"updateGroup",group:i});case 9:case"end":return r.stop()}}),r)})))()},changeItemsOrder:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.groupId,o=e.items,a=JSON.parse(JSON.stringify(n.board)),u=a.groups.findIndex((function(t){return t.id===i})),a.groups[u].items=o,r.next=7,Vt.update(a);case 7:s({type:"updateGroup",group:a.groups[u]}),Yt.emit("board newUpdateBoard",a);case 9:case"end":return r.stop()}}),r)})))()},addGroup:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,n=t.commit,s=Vt.getEmptyGroup(),i=JSON.parse(JSON.stringify(r.board)),i.groups.unshift(s),e.next=6,Vt.update(i);case 6:n({type:"addGroup",newGroup:s}),Yt.emit("board newUpdateBoard",i);case 8:case"end":return e.stop()}}),e)})))()},removeGroup:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.groupId,o=JSON.parse(JSON.stringify(n.board)),a=o.groups.findIndex((function(t){return t.id===i})),o.groups.splice(a,1),Yt.emit("board newUpdateBoard",o),r.next=8,Vt.update(o);case 8:s({type:"loadBoard",board:o});case 9:case"end":return r.stop()}}),r)})))()},addItem:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.newItemTitle,o=e.groupId,a=Vt.getEmptyItem(i),u=JSON.parse(JSON.stringify(n.board)),l=u.groups.findIndex((function(t){return t.id===o})),u.groups[l].items.push(a),r.next=8,Vt.update(u);case 8:Yt.emit("board newUpdateBoard",u),s({type:"addItem",newItem:a,groupIdx:l});case 10:case"end":return r.stop()}}),r)})))()},removeItem:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a,u,l,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.groupId,o=e.item,a=JSON.parse(JSON.stringify(n.board)),u=Vt.getGroupById(a,i),l=a.groups.findIndex((function(t){return t.id===i})),c=u.items.findIndex((function(t){return t.id===o.id})),a.groups[l].items.splice(c,1),Yt.emit("board newUpdateBoard",a),r.next=10,Vt.update(a);case 10:s({type:"removeItem",groupIdx:l,itemIdx:c});case 11:case"end":return r.stop()}}),r)})))()},duplicateItem:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a,u,l,c,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.groupId,o=e.item,a=JSON.parse(JSON.stringify(o)),u=JSON.parse(JSON.stringify(n.board)),l=Vt.getGroupById(u,i),c=u.groups.findIndex((function(t){return t.id===i})),d=l.items.findIndex((function(t){return t.id===o.id}))+1,a.id=Jt.makeId(),console.log("dup id item in store:",a.id),u.groups[c].items.splice(d,0,a),r.next=12,Vt.update(u);case 12:s({type:"duplicateItem",groupIdx:c,itemIdx:d,dupItem:a});case 13:case"end":return r.stop()}}),r)})))()},editItem:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s,i,o,a,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.state,s=t.commit,i=e.item,o=e.groupId,a=JSON.parse(JSON.stringify(n.board)),u=n.board.groups.findIndex((function(t){return t.id===o})),l=a.groups[u].items.findIndex((function(t){return t.id===i.id})),a.groups[u].items.splice(l,1,i),s({type:"loadGroups",groups:a.groups}),r.next=9,Vt.update(a);case 9:Yt.emit("board newUpdateBoard",a);case 10:case"end":return r.stop()}}),r)})))()},updateFilter:function(t,e){return Object(D["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n=t.state,t.commit,s=e.filterBy,n.filterBy=s;case 3:case"end":return r.stop()}}),r)})))()},updateSort:function(t,e){var r=t.state,n=(t.commit,e.sortBy);r.sortBy=n},justUpdateBoard:function(t){return Object(D["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,n=JSON.parse(JSON.stringify(r.board)),Yt.emit("board newUpdateBoard",n),e.next=5,Vt.update(n);case 5:case"end":return e.stop()}}),e)})))()}},modules:{}},ss={state:{currItem:null},getters:{},mutations:{},actions:{},modules:{}};n["default"].use(es["a"]);var is=new es["a"].Store({state:{},mutations:{},actions:{},modules:{userStore:rs,boardStore:ns,itemStore:ss}}),os=r("5c96"),as=r.n(os),us=(r("0fae"),r("b2d6")),ls=r.n(us),cs=r("8682");r("3c61");n["default"].use(cs["a"],{name:"Timeago",locale:"en",locales:{"zh-CN":r("f2d3"),ja:r("b805")}}),n["default"].use(as.a,{locale:ls.a}),n["default"].config.productionTip=!1,n["default"].config.lang="en",new n["default"]({router:ts,store:is,render:function(t){return t(c)}}).$mount("#app")},"8e79":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABVpJREFUeNrsnT1yGkEQhWc5AT6BVqkSQ6DQVVJEKBE5NJzAcIJFJxA6gSB0BA4VCZdDBVonpMI3WJ/A7maHKgrD/s70jOB9VVsKZEHXvOmeefOzVgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwHv+fvrc9CaWF9X0ua2CdyBmSD++0nNFT2vn1wk9C3q+Bz+/TYTE7NFzo+PZZc6x8M/gch0bBM7J0nvdoEVY0TMkoeeWhB3QExX8Exb3jkQeQ+D94nKmPtNTpfxNSOS+QXG5gsz2VI8icHXpuszm4MjENSqyFve1ZiwxPdeuRG54WJbrisv06LNGBkKaGYiFO+yjqzZteJbAjwYadEOkJ2hVs3dUsSzv45Y+7/akBSYxuAFMN0JUUdxW1b/N4P5kx2BdmnmsCy18/Acaj5OSAj8fsEF1adNYHJ9iBkeWxFVlqwKJO7AkLvPl5Eq0njUPLH7Fx5J+N7IYS+vkBBaYYbZKxuL10uO7Epiyd+CiVx/I3isLk7zTFVhbmEjgq5IC4jZdetVjzeB7oXL4q8C/GVic5JXqbEchsCXPe4jYgec9xI+jF3hrl0iCpMDukuQCxPwUMtim593lwaHn/U/c4HK9pSlKIJy9XA5fpbKXnvNDq1h6YvUmaIvOXQgsncGSM9V+zhKlpOe9cyGuaAZrzys13i1I3Oscz/ssFMuKxD0/apsk6Hk3pbnvkeftK4dIlWgpz7ueWFH2rjzwvMyEsnfhUuBAIHvZ786kPC+J287xvLKTPMenKxuWxZX0vMzQI8879OHorO0SLel5x5S9C08874LEnSgPCCxmr+RMFZ7XQQZLlkN4XskM1kdWpWwRPK9kBm/dJYLnPdISLVsO4XnlSjQ8rx83Cq1ksPa8PpVDyViGPoprukRHgqWZPW+c43mlDvN543mtlWhhz8tjbjvD84aq/o1A85532eG4eAi70Z1vOz4eu7nDTtXFU+yjwK+CGdPNOoZDAs+U3Hkv9ryjHGHLXmRnsYemhA4MiCvpeeckbjdDXNlJ3qVq54h7papfQb0jkUdOx2AHnneY43n92dhYdm5VvbvOEX3Go1OBPfO8shsbWZ532TF16btHn1Xr3lZQI3t98rws7Js3nnfZMXn9lL+nTeV6JZ3BUqW5iOeNJGPJEbenzG5L1rrx2KiYvaGS21vN9LwaqVkze968w+s3Fr63p2fjYhksJe5qPZvM6mzpbpHEPCBRxTYTbHW2K0mBpSYzwwKvX5Dy3w+5CxqpLbJFS1LgMyHPW+Quj0T2xrkLGp5SVWDbC+uJyj9AJ4kPsZxJCvzHsefdHafdeV45fksKbLNR2fOWeYmnzdcSJXmTPMF2SSQFttmjSx170e+dsjVk9Evt86aLEbZEnosJrMunjcvMRTzvPiaOPO8+pjZicbGS9SDteXNiMZnFiap+gG5soaJUbZfqAutbBCZfeN0v+8rBrTJdp3Psn+RVPdt88WTaAczpMxfiAm/1rNhIg2ZcOyko8thQqZ7UflP7xdPEUCyxqnkU18SG/+Ydz1VXlHjcNdbj/76st+l6NcQ1d7Y53c/t1RD3WlcE5SqDuVQneiuvbInkEtg1Ka7O5L4ukWUaZl1WjYqbZjJ/XrfCmDw2Ia6RDN7J5lCl24jca5sZPXOq0tfuW1sR2/qPNPgNr2FGJ5vqxQx7q3PpTlBPt02Y0cnmKj2qY8xq2bxduDk52NLBrz1iiRUqk2KHumFDHVOs0ntE4rHo05W7sSSmT1MCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPCMfwIMAE+t3eZL7HeYAAAAAElFTkSuQmCC"},"98e5":function(t,e,r){},"9f80":function(t,e,r){t.exports=r.p+"img/like.67098169.svg"},a239:function(t,e,r){"use strict";r("a28f")},a28f:function(t,e,r){},c4e2:function(t,e,r){t.exports=r.p+"img/newLogo-gif.6021da00.gif"},c718:function(t,e,r){t.exports=r.p+"img/reply.091a7fd9.svg"},c755:function(t,e,r){t.exports=r.p+"img/like-black.ae497b12.svg"},cd87:function(t,e,r){t.exports=r.p+"img/done.900c9a2e.gif"},d4c0:function(t,e,r){t.exports=r.p+"img/newLogo.c8fd0db8.png"},dd28:function(t,e,r){t.exports=r.p+"img/msg-icon.ec57af0f.svg"},fee2:function(t,e,r){t.exports=r.p+"img/empty-person.64c0cf27.svg"}});
//# sourceMappingURL=app.fd674a1a.js.map